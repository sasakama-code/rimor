faae87286101fa211b2bf67253272a8b
"use strict";
/**
 * AI JSON Command カバレッジテスト
 * Issue #58: AIエージェント向けコンテキスト出力機能
 *
 * このファイルは統計的品質保証のためのカバレッジ最適化テストです
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
jest.mock('fs');
const analyze_v0_8_1 = require("../../../src/cli/commands/analyze-v0.8");
const container_1 = require("../../../src/container");
const fs = __importStar(require("fs"));
const path = __importStar(require("path"));
const os = __importStar(require("os"));
const analyze_ai_json_test_helper_1 = require("./analyze-ai-json.test.helper");
describe('AI JSON Command Coverage Tests', () => {
    let tempDir;
    let command;
    beforeEach(() => {
        // モックをクリア
        jest.clearAllMocks();
        // fsモックを実際の実装にリセット
        fs.mkdtempSync.mockImplementation(jest.requireActual('fs').mkdtempSync);
        fs.existsSync.mockImplementation(jest.requireActual('fs').existsSync);
        fs.rmSync.mockImplementation(jest.requireActual('fs').rmSync);
        tempDir = fs.mkdtempSync(path.join(os.tmpdir(), 'rimor-coverage-test-'));
        const testContainer = (0, analyze_ai_json_test_helper_1.createTestContainer)();
        const mockCliSecurity = (0, analyze_ai_json_test_helper_1.createMockCliSecurity)();
        command = new analyze_v0_8_1.AnalyzeCommandV8(testContainer, mockCliSecurity);
    });
    afterEach(() => {
        if (fs.existsSync(tempDir)) {
            fs.rmSync(tempDir, { recursive: true, force: true });
        }
    });
    describe('AI JSON 生成カバレッジ', () => {
        it('mapSeverityToRiskLevel関数の全パスをカバー', async () => {
            // 異なるseverityレベルでのマッピング確認
            const testProjectPath = (0, analyze_ai_json_test_helper_1.createTestProject)(tempDir);
            const relativePath = (0, analyze_ai_json_test_helper_1.getRelativePath)(testProjectPath);
            // high severity issues のモック
            const testContainer = (0, analyze_ai_json_test_helper_1.createTestContainer)();
            testContainer.unbind(container_1.TYPES.AnalysisEngine);
            testContainer.bind(container_1.TYPES.AnalysisEngine).toConstantValue({
                analyze: jest.fn().mockResolvedValue({
                    projectPath: '',
                    issues: [
                        { file: 'test1.ts', line: 1, message: 'High severity issue', severity: 'high' },
                        { file: 'test2.ts', line: 2, message: 'Critical severity issue', severity: 'critical' },
                        { file: 'test3.ts', line: 3, message: 'Low severity issue', severity: 'low' }
                    ],
                    totalFiles: 3,
                    analysisTime: 100,
                    cacheHitRate: 0
                })
            });
            const commandWithCustomContainer = new analyze_v0_8_1.AnalyzeCommandV8(testContainer, (0, analyze_ai_json_test_helper_1.createMockCliSecurity)());
            const consoleSpy = jest.spyOn(console, 'log').mockImplementation();
            // Act
            await commandWithCustomContainer.execute({
                path: relativePath,
                format: 'ai-json'
            });
            // Assert - 異なるリスクレベルが生成されることを確認
            expect(consoleSpy).toHaveBeenCalled();
            const outputs = consoleSpy.mock.calls.map(call => call.join(' '));
            const jsonOutput = outputs.find(output => {
                try {
                    const parsed = JSON.parse(output);
                    return parsed && typeof parsed === 'object' && 'keyRisks' in parsed;
                }
                catch {
                    return false;
                }
            });
            expect(jsonOutput).toBeDefined();
            const json = JSON.parse(jsonOutput);
            expect(json.keyRisks).toHaveLength(3);
            consoleSpy.mockRestore();
        });
        it('AI JSON生成エラーパスのカバレッジ', async () => {
            const testProjectPath = (0, analyze_ai_json_test_helper_1.createTestProject)(tempDir);
            const relativePath = (0, analyze_ai_json_test_helper_1.getRelativePath)(testProjectPath);
            // ファイル書き込みエラーを模擬
            fs.writeFileSync.mockImplementation(() => {
                throw new Error('Write permission denied');
            });
            const consoleSpy = jest.spyOn(console, 'error').mockImplementation();
            const exitSpy = (0, analyze_ai_json_test_helper_1.createProcessExitSpy)();
            // Act & Assert
            await expect(command.execute({
                path: relativePath,
                format: 'ai-json',
                outputAiJson: path.join(tempDir, 'output.json')
            })).rejects.toThrow(/Process\.exit called/);
            expect(consoleSpy).toHaveBeenCalled();
            // Cleanup
            jest.restoreAllMocks();
        });
        it('fullReportUrl生成の分岐カバレッジ', async () => {
            const testProjectPath = (0, analyze_ai_json_test_helper_1.createTestProject)(tempDir);
            const relativePath = (0, analyze_ai_json_test_helper_1.getRelativePath)(testProjectPath);
            // outputHtmlオプションありでの実行
            const consoleSpy = jest.spyOn(console, 'log').mockImplementation();
            await command.execute({
                path: relativePath,
                format: 'ai-json',
                outputHtml: 'custom-report.html'
            });
            const outputs = consoleSpy.mock.calls.map(call => call.join(' '));
            const jsonOutput = outputs.find(output => {
                try {
                    const parsed = JSON.parse(output);
                    return parsed && typeof parsed === 'object' && 'fullReportUrl' in parsed;
                }
                catch {
                    return false;
                }
            });
            expect(jsonOutput).toBeDefined();
            const json = JSON.parse(jsonOutput);
            expect(json.fullReportUrl).toBe('custom-report.html');
            consoleSpy.mockRestore();
        });
        it('空のissues配列での実行パスカバレッジ', async () => {
            const testProjectPath = (0, analyze_ai_json_test_helper_1.createTestProject)(tempDir);
            const relativePath = (0, analyze_ai_json_test_helper_1.getRelativePath)(testProjectPath);
            // issues空配列のモック
            const testContainer = (0, analyze_ai_json_test_helper_1.createTestContainer)();
            testContainer.unbind(container_1.TYPES.AnalysisEngine);
            testContainer.bind(container_1.TYPES.AnalysisEngine).toConstantValue({
                analyze: jest.fn().mockResolvedValue({
                    projectPath: '',
                    issues: [], // 空の配列
                    totalFiles: 1,
                    analysisTime: 50,
                    cacheHitRate: 0
                })
            });
            const commandWithEmptyIssues = new analyze_v0_8_1.AnalyzeCommandV8(testContainer, (0, analyze_ai_json_test_helper_1.createMockCliSecurity)());
            const consoleSpy = jest.spyOn(console, 'log').mockImplementation();
            await commandWithEmptyIssues.execute({
                path: relativePath,
                format: 'ai-json'
            });
            const outputs = consoleSpy.mock.calls.map(call => call.join(' '));
            const jsonOutput = outputs.find(output => {
                try {
                    const parsed = JSON.parse(output);
                    return parsed && typeof parsed === 'object' && 'overallAssessment' in parsed;
                }
                catch {
                    return false;
                }
            });
            expect(jsonOutput).toBeDefined();
            const json = JSON.parse(jsonOutput);
            expect(json.keyRisks).toHaveLength(0);
            expect(json.overallAssessment).toContain('100/100'); // 完璧なスコア
            consoleSpy.mockRestore();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3Nhc2FrYW1hL1Byb2plY3RzL1JpbW9yL3Rlc3QvY2xpL2NvbW1hbmRzL2FuYWx5emUtYWktanNvbi5jb3ZlcmFnZS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7R0FLRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFlSCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBYmhCLHlFQUEwRTtBQUMxRSxzREFBK0M7QUFDL0MsdUNBQXlCO0FBQ3pCLDJDQUE2QjtBQUM3Qix1Q0FBeUI7QUFDekIsK0VBTXVDO0FBSXZDLFFBQVEsQ0FBQyxnQ0FBZ0MsRUFBRSxHQUFHLEVBQUU7SUFDOUMsSUFBSSxPQUFlLENBQUM7SUFDcEIsSUFBSSxPQUF5QixDQUFDO0lBRTlCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxVQUFVO1FBQ1YsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3JCLG1CQUFtQjtRQUNsQixFQUFFLENBQUMsV0FBeUIsQ0FBQyxrQkFBa0IsQ0FDOUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQ3JDLENBQUM7UUFDRCxFQUFFLENBQUMsVUFBd0IsQ0FBQyxrQkFBa0IsQ0FDN0MsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLENBQ3BDLENBQUM7UUFDRCxFQUFFLENBQUMsTUFBb0IsQ0FBQyxrQkFBa0IsQ0FDekMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQ2hDLENBQUM7UUFFRixPQUFPLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDLENBQUM7UUFDekUsTUFBTSxhQUFhLEdBQUcsSUFBQSxpREFBbUIsR0FBRSxDQUFDO1FBQzVDLE1BQU0sZUFBZSxHQUFHLElBQUEsbURBQXFCLEdBQUUsQ0FBQztRQUNoRCxPQUFP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Q0FBQztZQUVILE1BQU0sT0FBTyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNsRSxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUN2QyxJQUFJLENBQUM7b0JBQ0gsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztvQkFDbEMsT0FBTyxNQUFNLElBQUksT0FBTyxNQUFNLEtBQUssUUFBUSxJQUFJLG1CQUFtQixJQUFJLE1BQU0sQ0FBQztnQkFDL0UsQ0FBQztnQkFBQyxNQUFNLENBQUM7b0JBQ1AsT0FBTyxLQUFLLENBQUM7Z0JBQ2YsQ0FBQztZQUNILENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2pDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVyxDQUFDLENBQUM7WUFDckMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsTUFBTSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVM7WUFFOUQsVUFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzNCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvc2FzYWthbWEvUHJvamVjdHMvUmltb3IvdGVzdC9jbGkvY29tbWFuZHMvYW5hbHl6ZS1haS1qc29uLmNvdmVyYWdlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBSSBKU09OIENvbW1hbmQg44Kr44OQ44Os44OD44K444OG44K544OIXG4gKiBJc3N1ZSAjNTg6IEFJ44Ko44O844K444Kn44Oz44OI5ZCR44GR44Kz44Oz44OG44Kt44K544OI5Ye65Yqb5qmf6IO9XG4gKiBcbiAqIOOBk+OBruODleOCoeOCpOODq+OBr+e1seioiOeahOWTgeizquS/neiovOOBruOBn+OCgeOBruOCq+ODkOODrOODg+OCuOacgOmBqeWMluODhuOCueODiOOBp+OBmVxuICovXG5cbmltcG9ydCB7IEFuYWx5emVDb21tYW5kVjggfSBmcm9tICcuLi8uLi8uLi9zcmMvY2xpL2NvbW1hbmRzL2FuYWx5emUtdjAuOCc7XG5pbXBvcnQgeyBUWVBFUyB9IGZyb20gJy4uLy4uLy4uL3NyYy9jb250YWluZXInO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCAqIGFzIG9zIGZyb20gJ29zJztcbmltcG9ydCB7XG4gIGNyZWF0ZVRlc3RDb250YWluZXIsXG4gIGNyZWF0ZU1vY2tDbGlTZWN1cml0eSxcbiAgY3JlYXRlVGVzdFByb2plY3QsXG4gIGNyZWF0ZVByb2Nlc3NFeGl0U3B5LFxuICBnZXRSZWxhdGl2ZVBhdGhcbn0gZnJvbSAnLi9hbmFseXplLWFpLWpzb24udGVzdC5oZWxwZXInO1xuXG5qZXN0Lm1vY2soJ2ZzJyk7XG5cbmRlc2NyaWJlKCdBSSBKU09OIENvbW1hbmQgQ292ZXJhZ2UgVGVzdHMnLCAoKSA9PiB7XG4gIGxldCB0ZW1wRGlyOiBzdHJpbmc7XG4gIGxldCBjb21tYW5kOiBBbmFseXplQ29tbWFuZFY4O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIC8vIOODouODg+OCr+OCkuOCr+ODquOColxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIC8vIGZz44Oi44OD44Kv44KS5a6f6Zqb44Gu5a6f6KOF44Gr44Oq44K744OD44OIXG4gICAgKGZzLm1rZHRlbXBTeW5jIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uKFxuICAgICAgamVzdC5yZXF1aXJlQWN0dWFsKCdmcycpLm1rZHRlbXBTeW5jXG4gICAgKTtcbiAgICAoZnMuZXhpc3RzU3luYyBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbihcbiAgICAgIGplc3QucmVxdWlyZUFjdHVhbCgnZnMnKS5leGlzdHNTeW5jXG4gICAgKTtcbiAgICAoZnMucm1TeW5jIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uKFxuICAgICAgamVzdC5yZXF1aXJlQWN0dWFsKCdmcycpLnJtU3luY1xuICAgICk7XG4gICAgXG4gICAgdGVtcERpciA9IGZzLm1rZHRlbXBTeW5jKHBhdGguam9pbihvcy50bXBkaXIoKSwgJ3JpbW9yLWNvdmVyYWdlLXRlc3QtJykpO1xuICAgIGNvbnN0IHRlc3RDb250YWluZXIgPSBjcmVhdGVUZXN0Q29udGFpbmVyKCk7XG4gICAgY29uc3QgbW9ja0NsaVNlY3VyaXR5ID0gY3JlYXRlTW9ja0NsaVNlY3VyaXR5KCk7XG4gICAgY29tbWFuZCA9IG5ldyBBbmFseXplQ29tbWFuZFY4KHRlc3RDb250YWluZXIsIG1vY2tDbGlTZWN1cml0eSk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmModGVtcERpcikpIHtcbiAgICAgIGZzLnJtU3luYyh0ZW1wRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSwgZm9yY2U6IHRydWUgfSk7XG4gICAgfVxuICB9KTtcblxuICBkZXNjcmliZSgnQUkgSlNPTiDnlJ/miJDjgqvjg5Djg6zjg4PjgrgnLCAoKSA9PiB7XG4gICAgaXQoJ21hcFNldmVyaXR5VG9SaXNrTGV2ZWzplqLmlbDjga7lhajjg5HjgrnjgpLjgqvjg5Djg7wnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyDnlbDjgarjgotzZXZlcml0eeODrOODmeODq+OBp+OBruODnuODg+ODlOODs+OCsOeiuuiqjVxuICAgICAgY29uc3QgdGVzdFByb2plY3RQYXRoID0gY3JlYXRlVGVzdFByb2plY3QodGVtcERpcik7XG4gICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBnZXRSZWxhdGl2ZVBhdGgodGVzdFByb2plY3RQYXRoKTtcbiAgICAgIFxuICAgICAgLy8gaGlnaCBzZXZlcml0eSBpc3N1ZXMg44Gu44Oi44OD44KvXG4gICAgICBjb25zdCB0ZXN0Q29udGFpbmVyID0gY3JlYXRlVGVzdENvbnRhaW5lcigpO1xuICAgICAgdGVzdENvbnRhaW5lci51bmJpbmQoVFlQRVMuQW5hbHlzaXNFbmdpbmUpO1xuICAgICAgdGVzdENvbnRhaW5lci5iaW5kKFRZUEVTLkFuYWx5c2lzRW5naW5lKS50b0NvbnN0YW50VmFsdWUoe1xuICAgICAgICBhbmFseXplOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIHByb2plY3RQYXRoOiAnJyxcbiAgICAgICAgICBpc3N1ZXM6IFtcbiAgICAgICAgICAgIHsgZmlsZTogJ3Rlc3QxLnRzJywgbGluZTogMSwgbWVzc2FnZTogJ0hpZ2ggc2V2ZXJpdHkgaXNzdWUnLCBzZXZlcml0eTogJ2hpZ2gnIH0sXG4gICAgICAgICAgICB7IGZpbGU6ICd0ZXN0Mi50cycsIGxpbmU6IDIsIG1lc3NhZ2U6ICdDcml0aWNhbCBzZXZlcml0eSBpc3N1ZScsIHNldmVyaXR5OiAnY3JpdGljYWwnIH0sXG4gICAgICAgICAgICB7IGZpbGU6ICd0ZXN0My50cycsIGxpbmU6IDMsIG1lc3NhZ2U6ICdMb3cgc2V2ZXJpdHkgaXNzdWUnLCBzZXZlcml0eTogJ2xvdycgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgdG90YWxGaWxlczogMyxcbiAgICAgICAgICBhbmFseXNpc1RpbWU6IDEwMCxcbiAgICAgICAgICBjYWNoZUhpdFJhdGU6IDBcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBjb21tYW5kV2l0aEN1c3RvbUNvbnRhaW5lciA9IG5ldyBBbmFseXplQ29tbWFuZFY4KHRlc3RDb250YWluZXIsIGNyZWF0ZU1vY2tDbGlTZWN1cml0eSgpKTtcbiAgICAgIGNvbnN0IGNvbnNvbGVTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdsb2cnKS5tb2NrSW1wbGVtZW50YXRpb24oKTtcbiAgICAgIFxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBjb21tYW5kV2l0aEN1c3RvbUNvbnRhaW5lci5leGVjdXRlKHtcbiAgICAgICAgcGF0aDogcmVsYXRpdmVQYXRoLFxuICAgICAgICBmb3JtYXQ6ICdhaS1qc29uJ1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEFzc2VydCAtIOeVsOOBquOCi+ODquOCueOCr+ODrOODmeODq+OBjOeUn+aIkOOBleOCjOOCi+OBk+OBqOOCkueiuuiqjVxuICAgICAgZXhwZWN0KGNvbnNvbGVTcHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGNvbnN0IG91dHB1dHMgPSBjb25zb2xlU3B5Lm1vY2suY2FsbHMubWFwKGNhbGwgPT4gY2FsbC5qb2luKCcgJykpO1xuICAgICAgY29uc3QganNvbk91dHB1dCA9IG91dHB1dHMuZmluZChvdXRwdXQgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uob3V0cHV0KTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VkICYmIHR5cGVvZiBwYXJzZWQgPT09ICdvYmplY3QnICYmICdrZXlSaXNrcycgaW4gcGFyc2VkO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QoanNvbk91dHB1dCkudG9CZURlZmluZWQoKTtcbiAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGpzb25PdXRwdXQhKTtcbiAgICAgIGV4cGVjdChqc29uLmtleVJpc2tzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICBcbiAgICAgIGNvbnNvbGVTcHkubW9ja1Jlc3RvcmUoKTtcbiAgICB9KTtcblxuICAgIGl0KCdBSSBKU09O55Sf5oiQ44Ko44Op44O844OR44K544Gu44Kr44OQ44Os44OD44K4JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdFByb2plY3RQYXRoID0gY3JlYXRlVGVzdFByb2plY3QodGVtcERpcik7XG4gICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBnZXRSZWxhdGl2ZVBhdGgodGVzdFByb2plY3RQYXRoKTtcbiAgICAgIFxuICAgICAgLy8g44OV44Kh44Kk44Or5pu444GN6L6844G/44Ko44Op44O844KS5qih5pOsXG4gICAgICAoZnMud3JpdGVGaWxlU3luYyBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV3JpdGUgcGVybWlzc2lvbiBkZW5pZWQnKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKTtcbiAgICAgIGNvbnN0IGV4aXRTcHkgPSBjcmVhdGVQcm9jZXNzRXhpdFNweSgpO1xuICAgICAgXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGF3YWl0IGV4cGVjdChjb21tYW5kLmV4ZWN1dGUoe1xuICAgICAgICBwYXRoOiByZWxhdGl2ZVBhdGgsXG4gICAgICAgIGZvcm1hdDogJ2FpLWpzb24nLFxuICAgICAgICBvdXRwdXRBaUpzb246IHBhdGguam9pbih0ZW1wRGlyLCAnb3V0cHV0Lmpzb24nKVxuICAgICAgfSkpLnJlamVjdHMudG9UaHJvdygvUHJvY2Vzc1xcLmV4aXQgY2FsbGVkLyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChjb25zb2xlU3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBcbiAgICAgIC8vIENsZWFudXBcbiAgICAgIGplc3QucmVzdG9yZUFsbE1vY2tzKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZnVsbFJlcG9ydFVybOeUn+aIkOOBruWIhuWykOOCq+ODkOODrOODg+OCuCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RQcm9qZWN0UGF0aCA9IGNyZWF0ZVRlc3RQcm9qZWN0KHRlbXBEaXIpO1xuICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gZ2V0UmVsYXRpdmVQYXRoKHRlc3RQcm9qZWN0UGF0aCk7XG4gICAgICBcbiAgICAgIC8vIG91dHB1dEh0bWzjgqrjg5fjgrfjg6fjg7PjgYLjgorjgafjga7lrp/ooYxcbiAgICAgIGNvbnN0IGNvbnNvbGVTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdsb2cnKS5tb2NrSW1wbGVtZW50YXRpb24oKTtcbiAgICAgIFxuICAgICAgYXdhaXQgY29tbWFuZC5leGVjdXRlKHtcbiAgICAgICAgcGF0aDogcmVsYXRpdmVQYXRoLFxuICAgICAgICBmb3JtYXQ6ICdhaS1qc29uJyxcbiAgICAgICAgb3V0cHV0SHRtbDogJ2N1c3RvbS1yZXBvcnQuaHRtbCdcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBvdXRwdXRzID0gY29uc29sZVNweS5tb2NrLmNhbGxzLm1hcChjYWxsID0+IGNhbGwuam9pbignICcpKTtcbiAgICAgIGNvbnN0IGpzb25PdXRwdXQgPSBvdXRwdXRzLmZpbmQob3V0cHV0ID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKG91dHB1dCk7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlZCAmJiB0eXBlb2YgcGFyc2VkID09PSAnb2JqZWN0JyAmJiAnZnVsbFJlcG9ydFVybCcgaW4gcGFyc2VkO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QoanNvbk91dHB1dCkudG9CZURlZmluZWQoKTtcbiAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGpzb25PdXRwdXQhKTtcbiAgICAgIGV4cGVjdChqc29uLmZ1bGxSZXBvcnRVcmwpLnRvQmUoJ2N1c3RvbS1yZXBvcnQuaHRtbCcpO1xuICAgICAgXG4gICAgICBjb25zb2xlU3B5Lm1vY2tSZXN0b3JlKCk7XG4gICAgfSk7XG5cbiAgICBpdCgn56m644GuaXNzdWVz6YWN5YiX44Gn44Gu5a6f6KGM44OR44K544Kr44OQ44Os44OD44K4JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdFByb2plY3RQYXRoID0gY3JlYXRlVGVzdFByb2plY3QodGVtcERpcik7XG4gICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBnZXRSZWxhdGl2ZVBhdGgodGVzdFByb2plY3RQYXRoKTtcbiAgICAgIFxuICAgICAgLy8gaXNzdWVz56m66YWN5YiX44Gu44Oi44OD44KvXG4gICAgICBjb25zdCB0ZXN0Q29udGFpbmVyID0gY3JlYXRlVGVzdENvbnRhaW5lcigpO1xuICAgICAgdGVzdENvbnRhaW5lci51bmJpbmQoVFlQRVMuQW5hbHlzaXNFbmdpbmUpO1xuICAgICAgdGVzdENvbnRhaW5lci5iaW5kKFRZUEVTLkFuYWx5c2lzRW5naW5lKS50b0NvbnN0YW50VmFsdWUoe1xuICAgICAgICBhbmFseXplOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIHByb2plY3RQYXRoOiAnJyxcbiAgICAgICAgICBpc3N1ZXM6IFtdLCAvLyDnqbrjga7phY3liJdcbiAgICAgICAgICB0b3RhbEZpbGVzOiAxLFxuICAgICAgICAgIGFuYWx5c2lzVGltZTogNTAsXG4gICAgICAgICAgY2FjaGVIaXRSYXRlOiAwXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgY29tbWFuZFdpdGhFbXB0eUlzc3VlcyA9IG5ldyBBbmFseXplQ29tbWFuZFY4KHRlc3RDb250YWluZXIsIGNyZWF0ZU1vY2tDbGlTZWN1cml0eSgpKTtcbiAgICAgIGNvbnN0IGNvbnNvbGVTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdsb2cnKS5tb2NrSW1wbGVtZW50YXRpb24oKTtcbiAgICAgIFxuICAgICAgYXdhaXQgY29tbWFuZFdpdGhFbXB0eUlzc3Vlcy5leGVjdXRlKHtcbiAgICAgICAgcGF0aDogcmVsYXRpdmVQYXRoLFxuICAgICAgICBmb3JtYXQ6ICdhaS1qc29uJ1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IG91dHB1dHMgPSBjb25zb2xlU3B5Lm1vY2suY2FsbHMubWFwKGNhbGwgPT4gY2FsbC5qb2luKCcgJykpO1xuICAgICAgY29uc3QganNvbk91dHB1dCA9IG91dHB1dHMuZmluZChvdXRwdXQgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uob3V0cHV0KTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VkICYmIHR5cGVvZiBwYXJzZWQgPT09ICdvYmplY3QnICYmICdvdmVyYWxsQXNzZXNzbWVudCcgaW4gcGFyc2VkO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QoanNvbk91dHB1dCkudG9CZURlZmluZWQoKTtcbiAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGpzb25PdXRwdXQhKTtcbiAgICAgIGV4cGVjdChqc29uLmtleVJpc2tzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICBleHBlY3QoanNvbi5vdmVyYWxsQXNzZXNzbWVudCkudG9Db250YWluKCcxMDAvMTAwJyk7IC8vIOWujOeSp+OBquOCueOCs+OColxuICAgICAgXG4gICAgICBjb25zb2xlU3B5Lm1vY2tSZXN0b3JlKCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9