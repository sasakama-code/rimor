{"file":"/Users/sasakama/Projects/Rimor/src/testing/ai-error-formatter.ts","mappings":"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","names":[],"sources":["/Users/sasakama/Projects/Rimor/src/testing/ai-error-formatter.ts"],"sourcesContent":["import { TestErrorContext } from './error-context';\nimport { UnifiedReportEngine } from '../reporting/core/UnifiedReportEngine';\nimport { AIJsonFormatter } from '../reporting/formatters/AIJsonFormatter';\nimport * as path from 'path';\nimport { sanitizeObject } from '../utils/stringSanitizer';\n\n/**\n * AIÂêë„Åë„ÉÜ„Çπ„Éà„Ç®„É©„Éº„Éï„Ç©„Éº„Éû„ÉÉ„Éà\n */\nexport interface AITestErrorReport {\n  version: string;\n  format: 'ai-test-error';\n  executionDate: string;\n  summary: ErrorSummary;\n  errorGroups: ErrorGroup[];\n  contextualInstructions: ContextualInstructions;\n  quickActions: QuickAction[];\n  ciTraceability?: CITraceabilityInfo;\n  executionInfo?: ExecutionInfo;\n}\n\ninterface ExecutionInfo {\n  startTime: string;\n  endTime?: string;\n  duration?: number;\n  environment: string;\n  totalFilesProcessed?: number;\n  totalErrorsCollected?: number;\n  jestReportedFailures?: number;\n}\n\ninterface CITraceabilityInfo {\n  runId: string;\n  runNumber: string;\n  workflow: string;\n  job?: string;\n  actor?: string;\n  repository: string;\n  branch: string;\n  sha: string;\n  prNumber?: string;\n  deepLink?: string;\n  prLink?: string;\n  nodeVersion: string;\n  os: string;\n  timestamp: string;\n}\n\ninterface ErrorSummary {\n  totalErrors: number;\n  criticalErrors: number;\n  testFileCount: number;\n  commonPatterns: string[];\n  estimatedFixTime: number; // ÂàÜÂçò‰Ωç\n}\n\ninterface ErrorGroup {\n  pattern: string;\n  priority: 'critical' | 'high' | 'medium' | 'low';\n  errors: FormattedError[];\n  commonSolution?: string;\n}\n\ninterface FormattedError {\n  id: string;\n  testFile: string;\n  testName: string;\n  errorMessage: string;\n  context: {\n    failedAssertion: string;\n    relevantCode: string;\n    stackTrace: string;\n  };\n  suggestedFix: {\n    explanation: string;\n    code: string;\n    confidence: number;\n  };\n  relatedInfo: {\n    sourceFile?: string;\n    dependencies: string[];\n  };\n  errorHash?: string; // CIÁí∞Â¢É„Åß„ÅÆ„Ç®„É©„ÉºÁÖßÂêàÁî®\n}\n\ninterface ContextualInstructions {\n  forHuman: string;\n  forAI: string;\n  debuggingSteps: string[];\n}\n\ninterface QuickAction {\n  command: string;\n  description: string;\n  expectedOutcome: string;\n}\n\n/**\n * AIÂêë„Åë„ÉÜ„Çπ„Éà„Ç®„É©„Éº„Éï„Ç©„Éº„Éû„ÉÉ„Çø\n * Context Engineering„ÅÆÂéüÂâá„Å´Âü∫„Å•„ÅÑ„Å¶„Ç®„É©„ÉºÊÉÖÂ†±„ÇíÊúÄÈÅ©Âåñ\n */\nexport class AITestErrorFormatter {\n  private readonly VERSION = '0.8.0';\n  private reportEngine: UnifiedReportEngine;\n  \n  constructor() {\n    this.reportEngine = new UnifiedReportEngine();\n    this.reportEngine.setStrategy(new AIJsonFormatter());\n  }\n  \n  /**\n   * „Ç®„É©„Éº„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà„ÇíAIÂêë„Åë„Å´„Éï„Ç©„Éº„Éû„ÉÉ„Éà\n   */\n  async formatErrors(\n    errorContexts: TestErrorContext[],\n    projectPath: string\n  ): Promise<AITestErrorReport> {\n    // „Ç®„É©„Éº„ÅÆ„Ç∞„É´„Éº„ÉóÂåñÔºàContext IsolationÔºâ\n    const errorGroups = this.groupErrors(errorContexts);\n    \n    // „Çµ„Éû„É™„Éº„ÅÆÁîüÊàêÔºàContext CompressionÔºâ\n    const summary = this.generateSummary(errorContexts, errorGroups);\n    \n    // CI„Éà„É¨„Éº„Çµ„Éì„É™„ÉÜ„Ç£ÊÉÖÂ†±„ÅÆÊäΩÂá∫\n    const ciTraceability = this.extractCITraceability(errorContexts);\n    \n    // ÊñáËÑàÁöÑ„Å™ÊåáÁ§∫„ÅÆÁîüÊàê\n    const contextualInstructions = this.generateInstructions(\n      errorContexts,\n      errorGroups\n    );\n    \n    // „ÇØ„Ç§„ÉÉ„ÇØ„Ç¢„ÇØ„Ç∑„Éß„É≥„ÅÆÁîüÊàê\n    const quickActions = this.generateQuickActions(errorGroups);\n    \n    // ÂÆüË°åÊó•ÊôÇ„ÇíÂèñÂæó\n    const executionDate = new Date().toISOString();\n    \n    return {\n      version: this.VERSION,\n      format: 'ai-test-error',\n      executionDate,\n      summary,\n      errorGroups,\n      contextualInstructions,\n      quickActions,\n      ciTraceability\n    };\n  }\n  \n  /**\n   * „Éû„Éº„ÇØ„ÉÄ„Ç¶„É≥ÂΩ¢Âºè„ÅßÂá∫Âäõ\n   */\n  formatAsMarkdown(report: AITestErrorReport): string {\n    // „É¨„Éù„Éº„ÉàÂÖ®‰Ωì„Çí„Çµ„Éã„Çø„Ç§„Ç∫\n    const sanitizedReport = sanitizeObject(report) as AITestErrorReport;\n    \n    let markdown = '# „ÉÜ„Çπ„Éà„Ç®„É©„ÉºÂàÜÊûê„É¨„Éù„Éº„Éà\\n\\n';\n    \n    // ÂÆüË°åÊó•ÊôÇÊÉÖÂ†±\n    markdown += '## üìÖ ÂÆüË°åÊÉÖÂ†±\\n';\n    if (sanitizedReport.executionInfo) {\n      markdown += `- **ÂÆüË°åÈñãÂßã**: ${new Date(sanitizedReport.executionInfo.startTime).toLocaleString('ja-JP', { timeZone: 'Asia/Tokyo' })}\\n`;\n      if (sanitizedReport.executionInfo.endTime) {\n        markdown += `- **ÂÆüË°åÁµÇ‰∫Ü**: ${new Date(sanitizedReport.executionInfo.endTime).toLocaleString('ja-JP', { timeZone: 'Asia/Tokyo' })}\\n`;\n        markdown += `- **ÂÆüË°åÊôÇÈñì**: ${sanitizedReport.executionInfo.duration}Áßí\\n`;\n      }\n      markdown += `- **ÂÆüË°åÁí∞Â¢É**: ${sanitizedReport.executionInfo.environment}\\n`;\n      if (sanitizedReport.executionInfo.totalFilesProcessed) {\n        markdown += `- **Âá¶ÁêÜ„Éï„Ç°„Ç§„É´Êï∞**: ${sanitizedReport.executionInfo.totalFilesProcessed}\\n`;\n      }\n      if (sanitizedReport.executionInfo.totalErrorsCollected !== undefined && sanitizedReport.executionInfo.jestReportedFailures !== undefined) {\n        markdown += `- **ÂèéÈõÜ„Ç®„É©„ÉºÊï∞**: ${sanitizedReport.executionInfo.totalErrorsCollected} / JestÂ†±ÂëäÊï∞: ${sanitizedReport.executionInfo.jestReportedFailures}\\n`;\n        if (sanitizedReport.executionInfo.totalErrorsCollected < sanitizedReport.executionInfo.jestReportedFailures) {\n          markdown += `- **‚ö†Ô∏è Ë≠¶Âëä**: ‰∏ÄÈÉ®„ÅÆ„Ç®„É©„Éº„ÅåÂèéÈõÜ„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô\\n`;\n        }\n      }\n    } else {\n      markdown += `- **„É¨„Éù„Éº„ÉàÁîüÊàêÊó•ÊôÇ**: ${new Date(sanitizedReport.executionDate).toLocaleString('ja-JP', { timeZone: 'Asia/Tokyo' })}\\n`;\n    }\n    markdown += '\\n';\n    \n    // CI„Éà„É¨„Éº„Çµ„Éì„É™„ÉÜ„Ç£ÊÉÖÂ†±„Åæ„Åü„ÅØ„É≠„Éº„Ç´„É´ÂÆüË°åÊÉÖÂ†±\n    if (sanitizedReport.ciTraceability) {\n      if (sanitizedReport.ciTraceability.runId === 'local') {\n        markdown += '## üíª „É≠„Éº„Ç´„É´ÂÆüË°åÊÉÖÂ†±\\n';\n        markdown += `- **ÂÆüË°å„É¶„Éº„Ç∂„Éº**: ${sanitizedReport.ciTraceability.actor}\\n`;\n        markdown += `- **ÂÆüË°åÁí∞Â¢É**: Node.js ${sanitizedReport.ciTraceability.nodeVersion} on ${sanitizedReport.ciTraceability.os}\\n`;\n        markdown += `- **ÂÆüË°åÊôÇÂàª**: ${sanitizedReport.ciTraceability.timestamp}\\n`;\n      } else {\n        markdown += '## üîç CIÂÆüË°åÊÉÖÂ†±\\n';\n        markdown += `- **„ÉØ„Éº„ÇØ„Éï„É≠„Éº**: ${sanitizedReport.ciTraceability.workflow} #${sanitizedReport.ciTraceability.runNumber}\\n`;\n        markdown += `- **„É™„Éù„Ç∏„Éà„É™**: ${sanitizedReport.ciTraceability.repository}\\n`;\n        markdown += `- **„Éñ„É©„É≥„ÉÅ**: ${sanitizedReport.ciTraceability.branch}\\n`;\n        markdown += `- **„Ç≥„Éü„ÉÉ„Éà**: ${sanitizedReport.ciTraceability.sha.substring(0, 7)}\\n`;\n        if (sanitizedReport.ciTraceability.prNumber) {\n          markdown += `- **PR**: [#${sanitizedReport.ciTraceability.prNumber}](${sanitizedReport.ciTraceability.prLink})\\n`;\n        }\n        if (sanitizedReport.ciTraceability.deepLink) {\n          markdown += `- **CIÂÆüË°å**: [${sanitizedReport.ciTraceability.runId}](${sanitizedReport.ciTraceability.deepLink})\\n`;\n        }\n        markdown += `- **ÂÆüË°åÁí∞Â¢É**: Node.js ${sanitizedReport.ciTraceability.nodeVersion} on ${sanitizedReport.ciTraceability.os}\\n`;\n        markdown += `- **ÂÆüË°åÊôÇÂàª**: ${sanitizedReport.ciTraceability.timestamp}\\n`;\n      }\n      markdown += '\\n';\n    }\n    \n    // „Çµ„Éû„É™„Éº\n    markdown += '## „Çµ„Éû„É™„Éº\\n';\n    markdown += `- **Á∑è„Ç®„É©„ÉºÊï∞**: ${sanitizedReport.summary.totalErrors}\\n`;\n    markdown += `- **ÈáçÂ§ß„Ç®„É©„Éº**: ${sanitizedReport.summary.criticalErrors}\\n`;\n    markdown += `- **ÂΩ±Èüø„ÉÜ„Çπ„Éà„Éï„Ç°„Ç§„É´**: ${sanitizedReport.summary.testFileCount}\\n`;\n    markdown += `- **Êé®ÂÆö‰øÆÊ≠£ÊôÇÈñì**: ${sanitizedReport.summary.estimatedFixTime}ÂàÜ\\n\\n`;\n    \n    if (sanitizedReport.summary.commonPatterns.length > 0) {\n      markdown += '### ÂÖ±ÈÄö„Éë„Çø„Éº„É≥\\n';\n      sanitizedReport.summary.commonPatterns.forEach(pattern => {\n        markdown += `- ${pattern}\\n`;\n      });\n      markdown += '\\n';\n    }\n    \n    // „ÇØ„Ç§„ÉÉ„ÇØ„Ç¢„ÇØ„Ç∑„Éß„É≥\n    if (sanitizedReport.quickActions.length > 0) {\n      markdown += '## Êé®Â•®„Ç¢„ÇØ„Ç∑„Éß„É≥\\n';\n      sanitizedReport.quickActions.forEach((action, index) => {\n        markdown += `### ${index + 1}. ${action.description}\\n`;\n        markdown += `\\`\\`\\`bash\\n${action.command}\\n\\`\\`\\`\\n`;\n        markdown += `ÊúüÂæÖ„Åï„Çå„ÇãÁµêÊûú: ${action.expectedOutcome}\\n\\n`;\n      });\n    }\n    \n    // „Ç®„É©„Éº„Ç∞„É´„Éº„Éó\n    markdown += '## „Ç®„É©„ÉºË©≥Á¥∞\\n\\n';\n    sanitizedReport.errorGroups.forEach((group, groupIndex) => {\n      markdown += `### „Ç∞„É´„Éº„Éó ${groupIndex + 1}: ${group.pattern} (ÂÑ™ÂÖàÂ∫¶: ${group.priority})\\n\\n`;\n      \n      if (group.commonSolution) {\n        markdown += `**ÂÖ±ÈÄö„ÅÆËß£Ê±∫Á≠ñ**: ${group.commonSolution}\\n\\n`;\n      }\n      \n      group.errors.forEach((error, errorIndex) => {\n        markdown += `#### „Ç®„É©„Éº ${groupIndex + 1}.${errorIndex + 1}: ${error.testName}\\n`;\n        markdown += `- **„Éï„Ç°„Ç§„É´**: ${error.testFile}\\n`;\n        markdown += `- **„Ç®„É©„Éº**: ${error.errorMessage}\\n\\n`;\n        \n        markdown += '**Â§±Êïó„Ç≥„Éº„Éâ**:\\n';\n        markdown += '```typescript\\n';\n        markdown += error.context.failedAssertion;\n        markdown += '\\n```\\n\\n';\n        \n        // ÊúâÂäπ„Å™‰øÆÊ≠£Ê°à„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅÆ„Åø‰øÆÊ≠£Ê°à„Çª„ÇØ„Ç∑„Éß„É≥„ÇíË°®Á§∫\n        const hasValidFix = error.suggestedFix.code && \n                           !error.suggestedFix.code.startsWith('// Ëá™Âãï‰øÆÊ≠£Ê°à„ÇíÁîüÊàê„Åß„Åç„Åæ„Åõ„Çì') &&\n                           !error.suggestedFix.code.startsWith('// ') &&\n                           error.suggestedFix.confidence > 0.3;\n        \n        if (hasValidFix) {\n          markdown += '**‰øÆÊ≠£Ê°à**:\\n';\n          markdown += '```typescript\\n';\n          markdown += error.suggestedFix.code;\n          markdown += '\\n```\\n';\n          markdown += `${error.suggestedFix.explanation} (‰ø°È†ºÂ∫¶: ${Math.round(error.suggestedFix.confidence * 100)}%)\\n\\n`;\n        } else {\n          // ‰øÆÊ≠£Ê°à„Åå„Å™„ÅÑÂ†¥Âêà„ÅØË™¨Êòé„ÅÆ„ÅøË°®Á§∫\n          markdown += `**ÂØæÂá¶ÊñπÊ≥ï**: ${error.suggestedFix.explanation}\\n\\n`;\n        }\n      });\n    });\n    \n    // AIÂêë„ÅëÊåáÁ§∫\n    markdown += '## „Éá„Éê„ÉÉ„Ç∞ÊâãÈ†Ü\\n\\n';\n    sanitizedReport.contextualInstructions.debuggingSteps.forEach((step, index) => {\n      markdown += `${index + 1}. ${step}\\n`;\n    });\n    \n    markdown += '\\n---\\n\\n';\n    markdown += '## AIÂêë„ÅëÊåáÁ§∫\\n\\n';\n    markdown += sanitizedReport.contextualInstructions.forAI;\n    \n    return markdown;\n  }\n  \n  /**\n   * JSONÂΩ¢Âºè„ÅßÂá∫Âäõ\n   */\n  formatAsJSON(report: AITestErrorReport): string {\n    // ÂÆüË°åÊÉÖÂ†±„ÇíÂê´„ÇÅ„Å¶JSONÂá∫Âäõ\n    const reportWithExecutionInfo = {\n      ...report,\n      executionDate: report.executionDate || new Date().toISOString()\n    };\n    \n    // „É¨„Éù„Éº„ÉàÂÖ®‰Ωì„Çí„Çµ„Éã„Çø„Ç§„Ç∫„Åó„Å¶„Åã„ÇâJSONÂåñ\n    const sanitizedReport = sanitizeObject(reportWithExecutionInfo);\n    return JSON.stringify(sanitizedReport, null, 2);\n  }\n  \n  /**\n   * PR„Ç≥„É°„É≥„ÉàÁî®„ÅÆÁ∞°ÊΩî„Å™„Çµ„Éû„É™„Éº„Éû„Éº„ÇØ„ÉÄ„Ç¶„É≥„ÇíÁîüÊàê\n   */\n  formatAsSummaryMarkdown(report: AITestErrorReport): string {\n    // „É¨„Éù„Éº„ÉàÂÖ®‰Ωì„Çí„Çµ„Éã„Çø„Ç§„Ç∫\n    const sanitizedReport = sanitizeObject(report) as AITestErrorReport;\n    \n    let summary = '## ü§ñ AI Error Report Summary\\n\\n';\n    \n    // „Ç®„É©„ÉºÁµ±Ë®à\n    summary += '### üìä „Ç®„É©„ÉºÁµ±Ë®à\\n';\n    summary += `- **Á∑è„Ç®„É©„ÉºÊï∞**: ${sanitizedReport.summary.totalErrors}\\n`;\n    summary += `- **ÈáçÂ§ßÂ∫¶Âà•**:\\n`;\n    \n    // ÂÑ™ÂÖàÂ∫¶Âà•„ÅÆ„Ç®„É©„ÉºÊï∞„ÇíÈõÜË®à\n    const priorityCounts = { critical: 0, high: 0, medium: 0, low: 0 };\n    sanitizedReport.errorGroups.forEach(group => {\n      priorityCounts[group.priority] += group.errors.length;\n    });\n    \n    if (priorityCounts.critical > 0) {\n      summary += `  - üî¥ Critical: ${priorityCounts.critical}\\n`;\n    }\n    if (priorityCounts.high > 0) {\n      summary += `  - üü† High: ${priorityCounts.high}\\n`;\n    }\n    if (priorityCounts.medium > 0) {\n      summary += `  - üü° Medium: ${priorityCounts.medium}\\n`;\n    }\n    if (priorityCounts.low > 0) {\n      summary += `  - üü¢ Low: ${priorityCounts.low}\\n`;\n    }\n    \n    summary += `- **ÂΩ±Èüø„Éï„Ç°„Ç§„É´Êï∞**: ${sanitizedReport.summary.testFileCount}\\n`;\n    summary += `- **Êé®ÂÆö‰øÆÊ≠£ÊôÇÈñì**: ${sanitizedReport.summary.estimatedFixTime}ÂàÜ\\n\\n`;\n    \n    // CIÊÉÖÂ†±ÔºàÂ≠òÂú®„Åô„ÇãÂ†¥ÂêàÔºâ\n    if (sanitizedReport.ciTraceability) {\n      summary += '### üîç ÂÆüË°åÁí∞Â¢É\\n';\n      summary += `- **Node.js**: ${sanitizedReport.ciTraceability.nodeVersion}\\n`;\n      summary += `- **OS**: ${sanitizedReport.ciTraceability.os}\\n\\n`;\n    }\n    \n    // Ê§úÂá∫„Åï„Çå„Åü„Éë„Çø„Éº„É≥\n    if (sanitizedReport.summary.commonPatterns.length > 0) {\n      summary += '### üîç Ê§úÂá∫„Åï„Çå„Åü„Ç®„É©„Éº„Éë„Çø„Éº„É≥\\n';\n      const topPatterns = sanitizedReport.summary.commonPatterns.slice(0, 5);\n      topPatterns.forEach(pattern => {\n        summary += `- ${pattern}\\n`;\n      });\n      if (sanitizedReport.summary.commonPatterns.length > 5) {\n        summary += `- _‰ªñ ${sanitizedReport.summary.commonPatterns.length - 5} „Éë„Çø„Éº„É≥_\\n`;\n      }\n      summary += '\\n';\n    }\n    \n    // ÊúÄ„ÇÇÈáçË¶Å„Å™„Ç®„É©„ÉºÔºàCritical/High„ÅÆÊúÄÂàù„ÅÆ3„Å§Ôºâ\n    const importantErrors = sanitizedReport.errorGroups\n      .filter(g => g.priority === 'critical' || g.priority === 'high')\n      .flatMap(g => g.errors)\n      .slice(0, 3);\n    \n    if (importantErrors.length > 0) {\n      summary += '### ‚ö†Ô∏è ÊúÄÈáçË¶Å„Ç®„É©„Éº\\n';\n      importantErrors.forEach((error, index) => {\n        summary += `${index + 1}. **${error.testName}**\\n`;\n        summary += `   - „Éï„Ç°„Ç§„É´: \\`${error.testFile}\\`\\n`;\n        summary += `   - „Ç®„É©„Éº: ${error.errorMessage.split('\\n')[0]}\\n`;\n      });\n      summary += '\\n';\n    }\n    \n    // „ÇØ„Ç§„ÉÉ„ÇØ„Ç¢„ÇØ„Ç∑„Éß„É≥ÔºàÊúÄÂàù„ÅÆ2„Å§Ôºâ\n    if (sanitizedReport.quickActions.length > 0) {\n      summary += '### üí° Êé®Â•®„Ç¢„ÇØ„Ç∑„Éß„É≥\\n';\n      const topActions = sanitizedReport.quickActions.slice(0, 2);\n      topActions.forEach(action => {\n        summary += `- **${action.description}**: \\`${action.command}\\`\\n`;\n      });\n      summary += '\\n';\n    }\n    \n    // Ë©≥Á¥∞„É¨„Éù„Éº„Éà„Å∏„ÅÆÊ°àÂÜÖ\n    summary += '---\\n';\n    summary += 'üìÑ **Ë©≥Á¥∞„É¨„Éù„Éº„Éà**: GitHub Actions„ÅÆ„Ç¢„Éº„ÉÜ„Ç£„Éï„Ç°„ÇØ„Éà„Åã„Çâ`ai-error-report-*`„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\\n';\n    \n    return summary;\n  }\n  \n  /**\n   * „Ç®„É©„Éº„ÅÆ„Ç∞„É´„Éº„ÉóÂåñÔºàÈ°û‰ºº„Ç®„É©„Éº„Çí„Åæ„Å®„ÇÅ„ÇãÔºâ\n   */\n  private extractCITraceability(contexts: TestErrorContext[]): CITraceabilityInfo | undefined {\n    // ÊúÄÂàù„ÅÆ„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà„Åã„ÇâCI„Éà„É¨„Éº„Çµ„Éì„É™„ÉÜ„Ç£ÊÉÖÂ†±„ÇíÂèñÂæó\n    const firstContextWithCI = contexts.find(ctx => (ctx as any).ciTraceability);\n    if (!firstContextWithCI) {\n      return undefined;\n    }\n    \n    const ci = (firstContextWithCI as any).ciTraceability;\n    const { CITraceabilityCollector } = require('./ci-traceability');\n    \n    return {\n      runId: ci.runId,\n      runNumber: ci.runNumber,\n      workflow: ci.workflow,\n      repository: ci.repository,\n      branch: ci.branch,\n      sha: ci.sha,\n      prNumber: ci.prNumber,\n      deepLink: CITraceabilityCollector.generateDeepLink(ci),\n      prLink: ci.prNumber ? CITraceabilityCollector.generatePRLink(ci) : undefined,\n      nodeVersion: ci.nodeVersion,\n      os: ci.os,\n      timestamp: ci.timestamp\n    };\n  }\n  \n  private groupErrors(contexts: TestErrorContext[]): ErrorGroup[] {\n    const groups = new Map<string, ErrorGroup>();\n    \n    contexts.forEach(context => {\n      const pattern = this.detectErrorPattern(context);\n      \n      if (!groups.has(pattern)) {\n        groups.set(pattern, {\n          pattern,\n          priority: this.calculatePriority(context),\n          errors: [],\n          commonSolution: this.findCommonSolution(pattern)\n        });\n      }\n      \n      const formattedError = this.formatSingleError(context);\n      groups.get(pattern)!.errors.push(formattedError);\n    });\n    \n    // ÂÑ™ÂÖàÂ∫¶„Åß„ÇΩ„Éº„Éà\n    return Array.from(groups.values()).sort((a, b) => {\n      const priorityOrder = { critical: 0, high: 1, medium: 2, low: 3 };\n      return priorityOrder[a.priority] - priorityOrder[b.priority];\n    });\n  }\n  \n  /**\n   * „Ç®„É©„Éº„Éë„Çø„Éº„É≥„ÅÆÊ§úÂá∫\n   */\n  private detectErrorPattern(context: TestErrorContext): string {\n    const message = context.error.message.toLowerCase();\n    \n    // ‰∏ÄËà¨ÁöÑ„Å™„Éë„Çø„Éº„É≥„ÅÆÊ§úÂá∫\n    if (message.includes('cannot find module')) {\n      return '„É¢„Ç∏„É•„Éº„É´Êú™Ê§úÂá∫„Ç®„É©„Éº';\n    }\n    if (message.includes('timeout')) {\n      return '„Çø„Ç§„É†„Ç¢„Ç¶„Éà„Ç®„É©„Éº';\n    }\n    if (message.includes('expected') && message.includes('received')) {\n      return '„Ç¢„Çµ„Éº„Ç∑„Éß„É≥‰∏ç‰∏ÄËá¥';\n    }\n    if (message.includes('typeerror')) {\n      return 'Âûã„Ç®„É©„Éº';\n    }\n    if (message.includes('undefined') || message.includes('null')) {\n      return 'Null/UndefinedÂèÇÁÖß„Ç®„É©„Éº';\n    }\n    if (message.includes('mock')) {\n      return '„É¢„ÉÉ„ÇØÈñ¢ÈÄ£„Ç®„É©„Éº';\n    }\n    \n    return '„Åù„ÅÆ‰ªñ„ÅÆ„Ç®„É©„Éº';\n  }\n  \n  /**\n   * ÂÑ™ÂÖàÂ∫¶„ÅÆË®àÁÆó\n   */\n  private calculatePriority(context: TestErrorContext): ErrorGroup['priority'] {\n    // TypeScript„Ç≥„É≥„Éë„Ç§„É´„Ç®„É©„Éº„ÅØÊúÄÂÑ™ÂÖà\n    if (context.error.message.includes('TS') && context.error.message.match(/TS\\d{4}/)) {\n      return 'critical';\n    }\n    \n    // „É¢„Ç∏„É•„Éº„É´Êú™Ê§úÂá∫„ÇÑ„Ç§„É≥„Éù„Éº„Éà„Ç®„É©„Éº„ÅØÈ´òÂÑ™ÂÖàÂ∫¶\n    if (context.errorType === 'FILE_NOT_FOUND' || \n        context.error.message.includes('Cannot find module')) {\n      return 'high';\n    }\n    \n    // „Ç¢„Çµ„Éº„Ç∑„Éß„É≥‰∏ç‰∏ÄËá¥„ÅØ‰∏≠ÂÑ™ÂÖàÂ∫¶\n    if (context.error.message.includes('Expected')) {\n      return 'medium';\n    }\n    \n    return 'low';\n  }\n  \n  /**\n   * Âçò‰∏Ä„Ç®„É©„Éº„ÅÆ„Éï„Ç©„Éº„Éû„ÉÉ„Éà\n   */\n  private formatSingleError(context: TestErrorContext): FormattedError {\n    const id = `${context.testFile}-${context.testName}-${Date.now()}`.replace(/[^a-zA-Z0-9-]/g, '-');\n    \n    return {\n      id,\n      testFile: path.relative(process.cwd(), context.testFile),\n      testName: context.testName,\n      errorMessage: context.error.message,\n      context: {\n        failedAssertion: context.codeContext.failedCode,\n        relevantCode: this.extractRelevantCode(context),\n        stackTrace: context.error.stack || ''\n      },\n      suggestedFix: this.generateFixSuggestion(context),\n      relatedInfo: {\n        sourceFile: context.relatedFiles.sourceFile,\n        dependencies: context.relatedFiles.dependencies\n      },\n      errorHash: (context as any).ciTraceability?.errorHash\n    };\n  }\n  \n  /**\n   * Èñ¢ÈÄ£„Ç≥„Éº„Éâ„ÅÆÊäΩÂá∫\n   */\n  private extractRelevantCode(context: TestErrorContext): string {\n    const { surroundingCode, failedCode } = context.codeContext;\n    \n    // Â§±Êïó„Åó„ÅüË°å„Çí‰∏≠ÂøÉ„Å´ÂâçÂæå„ÅÆ„Ç≥„Éº„Éâ„ÇíÂê´„ÇÅ„Çã\n    const before = surroundingCode.before.split('\\n').slice(-5).join('\\n');\n    const after = surroundingCode.after.split('\\n').slice(0, 5).join('\\n');\n    \n    return `${before}\\n>>> ${failedCode} <<<\\n${after}`;\n  }\n  \n  /**\n   * ‰øÆÊ≠£ÊèêÊ°à„ÅÆÁîüÊàê\n   */\n  private generateFixSuggestion(context: TestErrorContext): FormattedError['suggestedFix'] {\n    // Êé®Â•®„Ç¢„ÇØ„Ç∑„Éß„É≥„Åã„ÇâÊúÄ„ÇÇÂÑ™ÂÖàÂ∫¶„ÅÆÈ´ò„ÅÑ„ÇÇ„ÅÆ„ÇíÈÅ∏Êäû\n    const topAction = context.suggestedActions\n      .sort((a, b) => {\n        const priority = { high: 0, medium: 1, low: 2 };\n        return priority[a.priority] - priority[b.priority];\n      })[0];\n    \n    if (topAction && topAction.codeSnippet) {\n      return {\n        explanation: topAction.reasoning,\n        code: topAction.codeSnippet,\n        confidence: topAction.priority === 'high' ? 0.9 : 0.7\n      };\n    }\n    \n    // „Éë„Çø„Éº„É≥„Éô„Éº„Çπ„ÅÆ‰øÆÊ≠£ÊèêÊ°àÁîüÊàê\n    const pattern = this.detectErrorPattern(context);\n    const patternBasedFix = this.generatePatternBasedFix(context, pattern);\n    \n    if (patternBasedFix) {\n      return patternBasedFix;\n    }\n    \n    // „Éá„Éï„Ç©„É´„Éà„ÅÆÊèêÊ°àÔºà‰øÆÊ≠£Ê°à„Å™„ÅóÔºâ\n    return {\n      explanation: '„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„Å®„Çπ„Çø„ÉÉ„ÇØ„Éà„É¨„Éº„Çπ„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÄÅÂïèÈ°å„ÅÆÂéüÂõ†„ÇíÁâπÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÈñ¢ÈÄ£„Åô„Çã„ÇΩ„Éº„Çπ„Éï„Ç°„Ç§„É´„Å®„ÉÜ„Çπ„Éà„Ç≥„Éº„Éâ„ÅÆ‰∏°Êñπ„ÇíÁ¢∫Ë™ç„Åô„Çã„Åì„Å®„Çí„ÅäÂãß„ÇÅ„Åó„Åæ„Åô„ÄÇ',\n      code: '',\n      confidence: 0\n    };\n  }\n  \n  /**\n   * „Éë„Çø„Éº„É≥„Éô„Éº„Çπ„ÅÆ‰øÆÊ≠£ÊèêÊ°àÁîüÊàê\n   */\n  private generatePatternBasedFix(\n    context: TestErrorContext,\n    pattern: string\n  ): FormattedError['suggestedFix'] | null {\n    const { failedCode } = context.codeContext;\n    const errorMessage = context.error.message;\n    \n    // „Ç¢„Çµ„Éº„Ç∑„Éß„É≥‰∏ç‰∏ÄËá¥„ÅÆÂ†¥Âêà\n    if (pattern === '„Ç¢„Çµ„Éº„Ç∑„Éß„É≥‰∏ç‰∏ÄËá¥') {\n      // expect().toContain()„Ç®„É©„Éº„ÅÆÂ†¥Âêà\n      if (errorMessage.includes('toContain') && failedCode.includes('expect')) {\n        const actualMatch = errorMessage.match(/Received: \\[(.*?)\\]/);\n        if (actualMatch && actualMatch[1]) {\n          return {\n            explanation: `ÈÖçÂàó„Å´ÊúüÂæÖÂÄ§„ÅåÂê´„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇÂÆüÈöõ„ÅÆÈÖçÂàó„ÅÆÂÜÖÂÆπ„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÄÅÊúüÂæÖÂÄ§„Çí‰øÆÊ≠£„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,\n            code: `// ÂÆüÈöõ„ÅÆÈÖçÂàó: [${actualMatch[1]}]\\n// ÊúüÂæÖÂÄ§„ÇíÈÖçÂàó„ÅÆÂÆüÈöõ„ÅÆË¶ÅÁ¥†„Å´Â§âÊõ¥„Åô„Çã„Åã„ÄÅ\\n// „ÉÜ„Çπ„ÉàÂØæË±°„ÅÆ„Ç≥„Éº„Éâ„Çí‰øÆÊ≠£„Åó„Å¶„Åè„Å†„Åï„ÅÑ`,\n            confidence: 0.6\n          };\n        }\n      }\n      \n      // expect().toBe()„Ç®„É©„Éº„ÅÆÂ†¥Âêà\n      if (errorMessage.includes('Expected:') && errorMessage.includes('Received:')) {\n        const expectedMatch = errorMessage.match(/Expected: (.+?)(?:\\n|$)/);\n        const receivedMatch = errorMessage.match(/Received: (.+?)(?:\\n|$)/);\n        \n        if (expectedMatch && receivedMatch) {\n          return {\n            explanation: `ÊúüÂæÖÂÄ§„Å®ÂÆüÈöõ„ÅÆÂÄ§„Åå‰∏ÄËá¥„Åó„Åæ„Åõ„Çì„ÄÇÊúüÂæÖÂÄ§: ${expectedMatch[1]}, ÂÆüÈöõ: ${receivedMatch[1]}`,\n            code: `// ÊúüÂæÖÂÄ§„ÇíÂÆüÈöõ„ÅÆÂÄ§„Å´Âêà„Çè„Åõ„ÇãÂ†¥Âêà:\\n// ${failedCode.replace(expectedMatch[1], receivedMatch[1])}\\n// „Åæ„Åü„ÅØ„ÄÅ„ÉÜ„Çπ„ÉàÂØæË±°„ÅÆ„Ç≥„Éº„Éâ„Çí‰øÆÊ≠£„Åó„Å¶„Åè„Å†„Åï„ÅÑ`,\n            confidence: 0.5\n          };\n        }\n      }\n    }\n    \n    // „É¢„Ç∏„É•„Éº„É´Êú™Ê§úÂá∫„Ç®„É©„Éº„ÅÆÂ†¥Âêà\n    if (pattern === '„É¢„Ç∏„É•„Éº„É´Êú™Ê§úÂá∫„Ç®„É©„Éº') {\n      const moduleMatch = errorMessage.match(/Cannot find module '(.+?)'/);\n      if (moduleMatch && moduleMatch[1]) {\n        const moduleName = moduleMatch[1];\n        return {\n          explanation: `„É¢„Ç∏„É•„Éº„É´ '${moduleName}' „ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇ`,\n          code: `// ‰ª•‰∏ã„ÅÆ„ÅÑ„Åö„Çå„Åã„ÇíÂÆüË°å:\\n// 1. npm install ${moduleName}\\n// 2. „Ç§„É≥„Éù„Éº„Éà„Éë„Çπ„Çí‰øÆÊ≠£\\n// 3. tsconfig.json„ÅÆ„Éë„Çπ„Éû„ÉÉ„Éî„É≥„Ç∞„ÇíÁ¢∫Ë™ç`,\n          confidence: 0.7\n        };\n      }\n    }\n    \n    // TypeScript„Ç®„É©„Éº„ÅÆÂ†¥Âêà\n    if (pattern === 'Âûã„Ç®„É©„Éº' && errorMessage.includes('TS')) {\n      const tsErrorMatch = errorMessage.match(/TS(\\d{4}): (.+)/);\n      if (tsErrorMatch) {\n        const errorCode = tsErrorMatch[1];\n        const errorDesc = tsErrorMatch[2];\n        return {\n          explanation: `TypeScript„Ç®„É©„Éº TS${errorCode}: ${errorDesc}`,\n          code: `// TypeScript„Ç®„É©„Éº„Çí‰øÆÊ≠£„Åó„Å¶„Åè„Å†„Åï„ÅÑ\\n// ÂûãÂÆöÁæ©„ÅÆËøΩÂä†„ÄÅÂûã„Ç¢„Çµ„Éº„Ç∑„Éß„É≥„ÅÆ‰ΩøÁî®„ÄÅ\\n// „Åæ„Åü„ÅØ„Ç≥„Éº„Éâ„É≠„Ç∏„ÉÉ„ÇØ„ÅÆ‰øÆÊ≠£„ÅåÂøÖË¶Å„Åß„Åô`,\n          confidence: 0.4\n        };\n      }\n    }\n    \n    return null;\n  }\n  \n  /**\n   * ÂÖ±ÈÄö„ÅÆËß£Ê±∫Á≠ñ„ÇíÊ§úÁ¥¢\n   */\n  private findCommonSolution(pattern: string): string | undefined {\n    const solutions: Record<string, string> = {\n      '„É¢„Ç∏„É•„Éº„É´Êú™Ê§úÂá∫„Ç®„É©„Éº': 'npm install „ÇíÂÆüË°å„Åô„Çã„Åã„ÄÅ„Ç§„É≥„Éù„Éº„Éà„Éë„Çπ„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ',\n      '„Çø„Ç§„É†„Ç¢„Ç¶„Éà„Ç®„É©„Éº': 'jest.setTimeout() „Åß„Çø„Ç§„É†„Ç¢„Ç¶„ÉàÊôÇÈñì„ÇíÂª∂Èï∑„Åô„Çã„Åã„ÄÅÈùûÂêåÊúüÂá¶ÁêÜ„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ',\n      '„Ç¢„Çµ„Éº„Ç∑„Éß„É≥‰∏ç‰∏ÄËá¥': 'ÊúüÂæÖÂÄ§„Å®ÂÆüÈöõ„ÅÆÂÄ§„ÇíÁ¢∫Ë™ç„Åó„ÄÅ„ÉÜ„Çπ„Éà„É≠„Ç∏„ÉÉ„ÇØ„Çí‰øÆÊ≠£„Åó„Å¶„Åè„Å†„Åï„ÅÑ',\n      'Âûã„Ç®„É©„Éº': 'TypeScript„ÅÆÂûãÂÆöÁæ©„ÇíÁ¢∫Ë™ç„Åó„ÄÅÈÅ©Âàá„Å™Âûã„Ç¢„Éé„ÉÜ„Éº„Ç∑„Éß„É≥„ÇíËøΩÂä†„Åó„Å¶„Åè„Å†„Åï„ÅÑ',\n      'Null/UndefinedÂèÇÁÖß„Ç®„É©„Éº': '„Ç™„Éó„Ç∑„Éß„Éä„É´„ÉÅ„Çß„Ç§„Éã„É≥„Ç∞Ôºà?.Ôºâ„ÇÑnull„ÉÅ„Çß„ÉÉ„ÇØ„ÇíËøΩÂä†„Åó„Å¶„Åè„Å†„Åï„ÅÑ',\n      '„É¢„ÉÉ„ÇØÈñ¢ÈÄ£„Ç®„É©„Éº': '„É¢„ÉÉ„ÇØ„ÅÆË®≠ÂÆö„ÇíÁ¢∫Ë™ç„Åó„ÄÅjest.mock() „ÅÆÂëº„Å≥Âá∫„Åó„ÇíÈÅ©Âàá„Å´ÈÖçÁΩÆ„Åó„Å¶„Åè„Å†„Åï„ÅÑ'\n    };\n    \n    return solutions[pattern];\n  }\n  \n  /**\n   * „Çµ„Éû„É™„Éº„ÅÆÁîüÊàê\n   */\n  private generateSummary(\n    contexts: TestErrorContext[],\n    groups: ErrorGroup[]\n  ): ErrorSummary {\n    const testFiles = new Set(contexts.map(c => c.testFile));\n    const criticalErrors = groups\n      .filter(g => g.priority === 'critical')\n      .reduce((sum, g) => sum + g.errors.length, 0);\n    \n    // ‰øÆÊ≠£ÊôÇÈñì„ÅÆÊé®ÂÆöÔºà„Ç®„É©„Éº„Çø„Ç§„Éó„Å®Êï∞„Å´Âü∫„Å•„ÅèÔºâ\n    const estimatedTime = groups.reduce((total, group) => {\n      const timePerError = {\n        critical: 30,\n        high: 20,\n        medium: 10,\n        low: 5\n      };\n      return total + (group.errors.length * timePerError[group.priority]);\n    }, 0);\n    \n    // „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±Ôºö„Ç®„É©„ÉºÊï∞„ÅÆ‰∏ç‰∏ÄËá¥„ÇíË≠¶Âëä\n    if (process.env.DEBUG_AI_REPORTER === 'true') {\n      console.log(`[AI Formatter Debug] Total errors to format: ${contexts.length}`);\n      console.log(`[AI Formatter Debug] Test files with errors: ${testFiles.size}`);\n      console.log(`[AI Formatter Debug] Error groups: ${groups.length}`);\n    }\n    \n    return {\n      totalErrors: contexts.length,\n      criticalErrors,\n      testFileCount: testFiles.size,\n      commonPatterns: groups.map(g => g.pattern),\n      estimatedFixTime: Math.ceil(estimatedTime)\n    };\n  }\n  \n  /**\n   * ÊñáËÑàÁöÑ„Å™ÊåáÁ§∫„ÅÆÁîüÊàê\n   */\n  private generateInstructions(\n    contexts: TestErrorContext[],\n    groups: ErrorGroup[]\n  ): ContextualInstructions {\n    const hasTypeScriptErrors = groups.some(g => \n      g.errors.some(e => e.errorMessage.includes('TS'))\n    );\n    \n    const debuggingSteps = [\n      hasTypeScriptErrors ? 'TypeScript„Ç≥„É≥„Éë„Ç§„É´„Ç®„É©„Éº„ÇíÊúÄÂàù„Å´‰øÆÊ≠£' : null,\n      'critical„Ç®„É©„Éº„Åã„ÇâÈ†Ü„Å´‰øÆÊ≠£',\n      'ÂêÑ‰øÆÊ≠£Âæå„Å´npm test„ÅßÁ¢∫Ë™ç',\n      'Èñ¢ÈÄ£„Åô„Çã„ÇΩ„Éº„Çπ„Éï„Ç°„Ç§„É´„ÇÇÁ¢∫Ë™ç',\n      '„Åô„Åπ„Å¶„ÅÆ„ÉÜ„Çπ„Éà„Åå„Éë„Çπ„Åô„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç'\n    ].filter(Boolean) as string[];\n    \n    return {\n      forHuman: `${contexts.length}ÂÄã„ÅÆ„ÉÜ„Çπ„Éà„Ç®„É©„Éº„ÅåÊ§úÂá∫„Åï„Çå„Åæ„Åó„Åü„ÄÇ` +\n        `Êé®ÂÆö‰øÆÊ≠£ÊôÇÈñì„ÅØ${groups[0].errors.length * 15}ÂàÜ„Åß„Åô„ÄÇ` +\n        `ÂÑ™ÂÖàÂ∫¶È†Ü„Å´‰øÆÊ≠£„ÇíÈÄ≤„ÇÅ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,\n      \n      forAI: `‰ª•‰∏ã„ÅÆ„ÉÜ„Çπ„Éà„Ç®„É©„Éº„Çí‰øÆÊ≠£„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö\n\n„Éó„É≠„Ç∏„Çß„ÇØ„Éà: Rimor („ÉÜ„Çπ„ÉàÂìÅË≥™ÂàÜÊûê„ÉÑ„Éº„É´)\nË®ÄË™û: TypeScript\n„ÉÜ„Çπ„Éà„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ: Jest\n\n‰øÆÊ≠£Ë¶Å‰ª∂:\n- Êó¢Â≠ò„ÅÆ„Ç≥„Éº„Éâ„Çπ„Çø„Ç§„É´„ÇíÁ∂≠ÊåÅ\n- ÂûãÂÆâÂÖ®ÊÄß„ÇíÁ¢∫‰øù\n- „ÉÜ„Çπ„Éà„ÅÆÂèØË™≠ÊÄß„Çí‰øùÊåÅ\n- ÂêÑ‰øÆÊ≠£Âæå„Å´„ÉÜ„Çπ„Éà„ÇíÂÆüË°å\n\nÂÑ™ÂÖàÈ†Ü‰Ωç:\n1. TypeScript„Ç≥„É≥„Éë„Ç§„É´„Ç®„É©„ÉºÔºàcriticalÔºâ\n2. „É¢„Ç∏„É•„Éº„É´Êú™Ê§úÂá∫„Ç®„É©„ÉºÔºàhighÔºâ\n3. „Åù„ÅÆ‰ªñ„ÅÆ„Ç®„É©„Éº\n\nÂêÑ„Ç®„É©„Éº„Ç∞„É´„Éº„Éó„Å´„ÅØÂÖ±ÈÄö„ÅÆËß£Ê±∫Á≠ñ„ÅåÊèêÁ§∫„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ\nÂäπÁéáÁöÑ„Å´‰øÆÊ≠£„ÇíÈÄ≤„ÇÅ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,\n      \n      debuggingSteps\n    };\n  }\n  \n  /**\n   * „ÇØ„Ç§„ÉÉ„ÇØ„Ç¢„ÇØ„Ç∑„Éß„É≥„ÅÆÁîüÊàê\n   */\n  private generateQuickActions(groups: ErrorGroup[]): QuickAction[] {\n    const actions: QuickAction[] = [];\n    \n    // TypeScript„Ç®„É©„Éº„Åå„ÅÇ„ÇãÂ†¥Âêà\n    if (groups.some(g => g.pattern === 'Âûã„Ç®„É©„Éº')) {\n      actions.push({\n        command: 'npx tsc --noEmit',\n        description: 'TypeScript„Ç≥„É≥„Éë„Ç§„É´„ÉÅ„Çß„ÉÉ„ÇØ',\n        expectedOutcome: '„Åô„Åπ„Å¶„ÅÆÂûã„Ç®„É©„Éº„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô'\n      });\n    }\n    \n    // „É¢„Ç∏„É•„Éº„É´Êú™Ê§úÂá∫„Ç®„É©„Éº„Åå„ÅÇ„ÇãÂ†¥Âêà\n    if (groups.some(g => g.pattern === '„É¢„Ç∏„É•„Éº„É´Êú™Ê§úÂá∫„Ç®„É©„Éº')) {\n      actions.push({\n        command: 'npm install',\n        description: '‰æùÂ≠òÈñ¢‰øÇ„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´',\n        expectedOutcome: '‰∏çË∂≥„Åó„Å¶„ÅÑ„Çã„É¢„Ç∏„É•„Éº„É´„Åå„Ç§„É≥„Çπ„Éà„Éº„É´„Åï„Çå„Åæ„Åô'\n      });\n    }\n    \n    // Â∏∏„Å´Âê´„ÇÅ„Çã„Ç¢„ÇØ„Ç∑„Éß„É≥\n    actions.push({\n      command: 'npm test -- --no-coverage',\n      description: '„Ç´„Éê„É¨„ÉÉ„Ç∏„Å™„Åó„Åß„ÉÜ„Çπ„ÉàÂÆüË°åÔºàÈ´òÈÄüÔºâ',\n      expectedOutcome: '‰øÆÊ≠£„Åó„Åü„ÉÜ„Çπ„Éà„ÅÆÁµêÊûú„ÇíÁ¥†Êó©„ÅèÁ¢∫Ë™ç„Åß„Åç„Åæ„Åô'\n    });\n    \n    return actions;\n  }\n}"],"version":3}