2a87b5ed657a386555b7cd6f244b2fb4
"use strict";
/**
 * InputValidationSecurityPlugin.test.ts
 * 入力検証セキュリティプラグインのテスト
 * 型ベースの入力検証・サニタイズテスト品質監査システムのテスト
 */
Object.defineProperty(exports, "__esModule", { value: true });
const InputValidationSecurityPlugin_1 = require("../../../src/security/plugins/InputValidationSecurityPlugin");
describe('InputValidationSecurityPlugin - 入力検証セキュリティプラグイン', () => {
    let plugin;
    let mockProjectContext;
    beforeEach(() => {
        plugin = new InputValidationSecurityPlugin_1.InputValidationSecurityPlugin();
        mockProjectContext = {
            projectPath: '/test/project',
            configuration: {
                testPatterns: ['**/*.test.ts'],
                excludePatterns: ['node_modules/**'],
                plugins: []
            },
            dependencies: [],
            framework: 'jest'
        };
    });
    describe('プラグイン基本機能', () => {
        it('プラグインが正しく初期化されること', () => {
            expect(plugin.id).toBe('input-validation-security');
            expect(plugin.name).toBeDefined();
            expect(plugin.version).toBeDefined();
            expect(plugin.type).toBe('security');
        });
        it('適用可能性を正しく判定すること', () => {
            const applicableContext = {
                ...mockProjectContext,
                dependencies: ['express', 'joi', 'validator']
            };
            const notApplicableContext = {
                ...mockProjectContext,
                dependencies: ['lodash', 'moment']
            };
            expect(plugin.isApplicable(applicableContext)).toBe(true);
            expect(plugin.isApplicable(notApplicableContext)).toBe(false);
        });
    });
    describe('入力検証パターンの検出', () => {
        it('基本的な入力検証テストを検出すること', async () => {
            const testFile = {
                path: '/test/validation.test.ts',
                content: `
          describe('Input Validation', () => {
            it('should validate user email', () => {
              const email = 'user@example.com';
              expect(validateEmail(email)).toBe(true);
            });
            
            it('should reject invalid email', () => {
              const invalidEmail = 'invalid-email';
              expect(validateEmail(invalidEmail)).toBe(false);
            });
          });
        `,
                framework: 'jest',
                testMethods: [
                    {
                        name: 'should validate user email',
                        type: 'test',
                        location: {
                            start: { line: 1, column: 1 },
                            end: { line: 5, column: 1 }
                        },
                        signature: 'validateEmail(email: string): boolean',
                        body: 'expect(validateEmail(email)).toBe(true);',
                        assertions: 1,
                        testType: 'unit'
                    }
                ]
            };
            const results = await plugin.detectPatterns(testFile);
            expect(results.length).toBeGreaterThan(0);
            const validationPattern = results.find(r => r.pattern === 'input-validation-test');
            expect(validationPattern).toBeDefined();
            expect(validationPattern?.confidence).toBeGreaterThan(0.7);
            expect(validationPattern?.securityRelevance).toBeGreaterThan(0.6);
        });
        it('サニタイズテストパターンを検出すること', async () => {
            const testFile = {
                path: '/test/sanitization.test.ts',
                content: `
          describe('Input Sanitization', () => {
            it('should sanitize HTML input', () => {
              const maliciousInput = '<script>alert("xss")</script>';
              const sanitized = sanitizeHtml(maliciousInput);
              expect(sanitized).not.toContain('<script>');
            });
            
            it('should escape SQL injection attempts', () => {
              const sqlInjection = "'; DROP TABLE users; --";
              const escaped = escapeSql(sqlInjection);
              expect(escaped).not.toContain('DROP TABLE');
            });
          });
        `,
                framework: 'jest',
                testMethods: [
                    {
                        name: 'should sanitize HTML input',
                        type: 'test',
                        location: {
                            start: { line: 1, column: 1 },
                            end: { line: 8, column: 1 }
                        },
                        signature: 'sanitizeHtml(input: string): string',
                        body: `
              const maliciousInput = '<script>alert("xss")</script>';
              const sanitized = sanitizeHtml(maliciousInput);
              expect(sanitized).not.toContain('<script>');
            `,
                        assertions: 1,
                        testType: 'security'
                    }
                ]
            };
            const results = await plugin.detectPatterns(testFile);
            const sanitizationPattern = results.find(r => r.pattern === 'sanitization-test');
            expect(sanitizationPattern).toBeDefined();
            expect(sanitizationPattern?.securityRelevance).toBeGreaterThan(0.8);
            const xssProtectionPattern = results.find(r => r.pattern === 'xss-protection-test');
            expect(xssProtectionPattern).toBeDefined();
        });
        it('境界条件テストを検出すること', async () => {
            const testFile = {
                path: '/test/boundary.test.ts',
                content: `
          describe('Boundary Condition Tests', () => {
            it('should handle empty input', () => {
              expect(validateInput('')).toBe(false);
            });
            
            it('should handle null input', () => {
              expect(validateInput(null)).toBe(false);
            });
            
            it('should handle undefined input', () => {
              expect(validateInput(undefined)).toBe(false);
            });
            
            it('should handle extremely long input', () => {
              const longInput = 'a'.repeat(10000);
              expect(validateInput(longInput)).toBe(false);
            });
          });
        `,
                framework: 'jest',
                testMethods: [
                    {
                        name: 'should handle empty input',
                        type: 'test',
                        location: {
                            start: { line: 1, column: 1 },
                            end: { line: 3, column: 1 }
                        },
                        signature: 'validateInput(input: string): boolean',
                        body: `expect(validateInput('')).toBe(false);`,
                        assertions: 1,
                        testType: 'security'
                    }
                ]
            };
            const results = await plugin.detectPatterns(testFile);
            const boundaryPattern = results.find(r => r.pattern === 'boundary-condition-test');
            expect(boundaryPattern).toBeDefined();
            expect(boundaryPattern?.metadata).toBeDefined();
            expect(boundaryPattern?.metadata?.boundaryTypes).toContain('empty-input');
        });
        it('不十分な入力検証テストを検出すること', async () => {
            const testFile = {
                path: '/test/inadequate.test.ts',
                content: `
          describe('Inadequate Validation', () => {
            it('should process user input', () => {
              const userInput = 'some input';
              const result = processInput(userInput);
              expect(result).toBeDefined();
            });
          });
        `,
                framework: 'jest',
                testMethods: [
                    {
                        name: 'should process user input',
                        type: 'test',
                        location: {
                            start: { line: 1, column: 1 },
                            end: { line: 6, column: 1 }
                        },
                        signature: 'processInput(userInput: string): any',
                        body: `
              const userInput = 'some input';
              const result = processInput(userInput);
              expect(result).toBeDefined();
            `,
                        assertions: 1,
                        testType: 'unit'
                    }
                ]
            };
            const results = await plugin.detectPatterns(testFile);
            const inadequatePattern = results.find(r => r.pattern === 'inadequate-input-validation');
            expect(inadequatePattern).toBeDefined();
            expect(inadequatePattern?.severity).toBe('medium');
        });
    });
    describe('品質評価', () => {
        it('高品質な入力検証テストに高いスコアを付与すること', () => {
            const highQualityPatterns = [
                {
                    pattern: 'input-validation-test',
                    confidence: 0.9,
                    securityRelevance: 0.85,
                    severity: 'info',
                    location: { file: 'test.ts', line: 10, column: 5 },
                    metadata: {
                        validationTypes: ['email', 'url', 'phone'],
                        boundaryTesting: true,
                        errorHandling: true
                    }
                },
                {
                    pattern: 'sanitization-test',
                    confidence: 0.88,
                    securityRelevance: 0.9,
                    severity: 'info',
                    location: { file: 'test.ts', line: 20, column: 5 },
                    metadata: {
                        sanitizerTypes: ['html', 'sql', 'xss'],
                        maliciousInputTesting: true
                    }
                }
            ];
            const qualityScore = plugin.evaluateQuality(highQualityPatterns);
            expect(qualityScore.overall).toBeGreaterThan(0.8);
            expect(qualityScore.security).toBeGreaterThan(0.8);
            expect(qualityScore.coverage).toBeGreaterThan(0.7);
            expect(qualityScore.maintainability).toBeGreaterThan(0.6);
        });
        it('低品質な入力検証テストに低いスコアを付与すること', () => {
            const lowQualityPatterns = [
                {
                    pattern: 'inadequate-input-validation',
                    confidence: 0.7,
                    securityRelevance: 0.3,
                    severity: 'medium',
                    location: { file: 'test.ts', line: 10, column: 5 },
                    metadata: {
                        missingValidations: ['null-check', 'type-validation'],
                        lacksBoundaryTesting: true
                    }
                }
            ];
            const qualityScore = plugin.evaluateQuality(lowQualityPatterns);
            expect(qualityScore.overall).toBeLessThan(0.5);
            expect(qualityScore.security).toBeLessThan(0.4);
            expect(qualityScore.coverage).toBeLessThan(0.6);
        });
        it('複合的な品質要素を考慮した評価を行うこと', () => {
            const mixedQualityPatterns = [
                {
                    pattern: 'input-validation-test',
                    confidence: 0.8,
                    securityRelevance: 0.7,
                    severity: 'info',
                    location: { file: 'test.ts', line: 10, column: 5 },
                    metadata: { hasValidation: true }
                },
                {
                    pattern: 'missing-edge-case-test',
                    confidence: 0.6,
                    securityRelevance: 0.5,
                    severity: 'low',
                    location: { file: 'test.ts', line: 20, column: 5 },
                    metadata: { missingCases: ['null', 'empty', 'overflow'] }
                }
            ];
            const qualityScore = plugin.evaluateQuality(mixedQualityPatterns);
            expect(qualityScore.overall).toBeGreaterThan(0.4);
            expect(qualityScore.overall).toBeLessThan(0.8);
            expect(qualityScore.details).toBeDefined();
            expect(qualityScore.details?.validationCoverage).toBeDefined();
            expect(qualityScore.details?.sanitizationQuality).toBeDefined();
        });
    });
    describe('改善提案', () => {
        it('不足している入力検証テストの改善提案を生成すること', () => {
            const evaluation = {
                overall: 0.4,
                dimensions: {},
                confidence: 0.8,
                security: 0.3,
                coverage: 0.5,
                maintainability: 0.6,
                details: {
                    strengths: ['良好な基本構造'],
                    weaknesses: ['入力検証が不十分', 'サニタイズが不足'],
                    suggestions: ['バリデーションテストを追加', 'サニタイザーテストを強化'],
                    validationCoverage: 0.3,
                    sanitizationQuality: 0.2,
                    boundaryTestingScore: 0.4
                }
            };
            const improvements = plugin.suggestImprovements(evaluation);
            expect(improvements.length).toBeGreaterThan(0);
            const validationImprovement = improvements.find(imp => imp.type === 'add-input-validation-tests');
            expect(validationImprovement).toBeDefined();
            expect(validationImprovement?.priority).toBe('high');
            expect(validationImprovement?.description).toContain('input validation');
            const sanitizationImprovement = improvements.find(imp => imp.type === 'enhance-sanitization-testing');
            expect(sanitizationImprovement).toBeDefined();
            expect(sanitizationImprovement?.impact).toEqual({
                effortMinutes: 20,
                scoreImprovement: 25
            });
        });
        it('境界条件テストの改善提案を生成すること', () => {
            const evaluation = {
                overall: 0.6,
                dimensions: {},
                confidence: 0.85,
                security: 0.7,
                coverage: 0.5,
                maintainability: 0.7,
                details: {
                    strengths: ['十分な入力バリデーション', '包括的サニタイザー'],
                    weaknesses: ['境界条件テストが不足'],
                    suggestions: ['境界条件テストを追加', 'エッジケースのカバレッジ向上'],
                    boundaryTestingScore: 0.2, // 境界条件テストが不十分
                    validationCoverage: 0.8,
                    sanitizationQuality: 0.7
                }
            };
            const improvements = plugin.suggestImprovements(evaluation);
            const boundaryImprovement = improvements.find(imp => imp.type === 'add-boundary-condition-tests');
            expect(boundaryImprovement).toBeDefined();
            expect(boundaryImprovement?.priority).toBe('medium');
            expect(boundaryImprovement?.suggestions).toContain('Add null/undefined input tests');
            expect(boundaryImprovement?.suggestions).toContain('Add empty string tests');
            expect(boundaryImprovement?.suggestions).toContain('Add overflow/underflow tests');
        });
        it('エラーハンドリングテストの改善提案を生成すること', () => {
            const evaluation = {
                overall: 0.65,
                dimensions: {},
                confidence: 0.9,
                security: 0.7,
                coverage: 0.6,
                maintainability: 0.65,
                details: {
                    strengths: ['良好なバリデーションカバレッジ', 'サニタイザーの実装'],
                    weaknesses: ['エラーハンドリングテストが不足'],
                    suggestions: ['エラーハンドリングテストを強化', '例外ケースのカバレッジ向上'],
                    boundaryTestingScore: 0.3, // 境界条件テストが不十分
                    validationCoverage: 0.8,
                    sanitizationQuality: 0.7
                }
            };
            const improvements = plugin.suggestImprovements(evaluation);
            const errorHandlingImprovement = improvements.find(imp => imp.type === 'improve-error-handling-tests');
            expect(errorHandlingImprovement).toBeDefined();
            expect(errorHandlingImprovement?.description).toContain('error handling');
            expect(errorHandlingImprovement?.codeExample).toBeDefined();
        });
    });
    describe('型推論統合', () => {
        it('Taint型を使用した高度な入力検証分析を行うこと', async () => {
            const testMethod = {
                name: 'testTaintedInputHandling',
                type: 'test',
                location: {
                    start: { line: 1, column: 1 },
                    end: { line: 10, column: 1 }
                },
                signature: 'handleTaintedInput(taintedInput: TaintedString, sanitizer: InputSanitizer): SafeString',
                body: `
          const cleaned = sanitizer.sanitize(taintedInput);
          expect(cleaned).toBeInstanceOf(SafeString);
          expect(cleaned.getValue()).not.toContain('<script>');
        `,
                assertions: 2,
                testType: 'security'
            };
            const analysisResult = await plugin.analyzeTestMethod(testMethod);
            expect(analysisResult).toBeDefined();
            expect(analysisResult.taintFlow).toBeDefined();
            expect(analysisResult.taintFlow.sources?.length || 0).toBeGreaterThan(0);
            expect(analysisResult.taintFlow.sanitizers?.length || 0).toBeGreaterThan(0);
            expect(analysisResult.securityScore).toBeGreaterThan(0.8);
        });
        it('型安全性違反を検出すること', async () => {
            const unsafeTestMethod = {
                name: 'testUnsafeInputHandling',
                type: 'test',
                location: {
                    start: { line: 1, column: 1 },
                    end: { line: 10, column: 1 }
                },
                signature: 'processUnsafeInput(userInput: any): any', // 型安全性違反
                body: `
          const result = eval(userInput); // 非常に危険
          expect(result).toBeDefined();
        `,
                assertions: 1,
                testType: 'security'
            };
            const analysisResult = await plugin.analyzeTestMethod(unsafeTestMethod);
            expect(analysisResult.issues.length).toBeGreaterThan(0);
            const typeSafetyViolation = analysisResult.issues.find((issue) => issue.type === 'unsafe-taint-flow');
            expect(typeSafetyViolation).toBeDefined();
            expect(typeSafetyViolation?.severity).toBe('critical');
        });
    });
    describe('インクリメンタル解析', () => {
        it('テストメソッドの変更を検出してインクリメンタル解析を実行すること', async () => {
            const originalMethod = {
                name: 'testInputValidation',
                type: 'test',
                location: {
                    start: { line: 1, column: 1 },
                    end: { line: 5, column: 1 }
                },
                signature: 'validateInput(input: string): boolean',
                body: 'expect(validateInput("test")).toBe(true);',
                assertions: 1,
                testType: 'unit'
            };
            const modifiedMethod = {
                ...originalMethod,
                body: `
          expect(validateInput("test")).toBe(true);
          expect(validateInput("")).toBe(false);
          expect(validateInput(null)).toBe(false);
        `,
            };
            const change = {
                type: 'modified',
                methodName: 'handleInput',
                filePath: 'test.ts',
                content: modifiedMethod.content
            };
            const incrementalResult = await plugin.analyzeIncrementally(change);
            expect(incrementalResult).toBeDefined();
            expect(incrementalResult.affectedTests?.length ?? 0).toBeGreaterThanOrEqual(0);
            expect(incrementalResult.qualityImprovement ?? 0).toBeGreaterThanOrEqual(0);
            expect(incrementalResult.newIssuesFound?.length ?? 0).toBeGreaterThanOrEqual(0);
            expect(incrementalResult.resolvedIssues?.length ?? 0).toBeGreaterThanOrEqual(0);
        });
    });
    describe('パフォーマンスとスケーラビリティ', () => {
        it('大量のテストメソッドを効率的に処理すること', async () => {
            const largeTestFile = {
                path: '/test/large-validation.test.ts',
                content: 'large test file content',
                framework: 'jest',
                testMethods: Array.from({ length: 100 }, (_, i) => ({
                    name: `testInputValidation${i}`,
                    type: 'test',
                    location: {
                        start: { line: i + 1, column: 1 },
                        end: { line: i + 3, column: 1 }
                    },
                    signature: `validateInput${i}(input: string): boolean`,
                    body: `expect(validateInput${i}("test")).toBe(true);`,
                    assertions: 1,
                    testType: 'unit'
                }))
            };
            const startTime = Date.now();
            const results = await plugin.detectPatterns(largeTestFile);
            const endTime = Date.now();
            const executionTime = endTime - startTime;
            expect(results.length).toBeGreaterThan(0);
            expect(executionTime).toBeLessThan(2000); // 2秒以内で処理
        });
        it('キャッシュを使用して重複処理を避けること', async () => {
            const testFile = {
                path: '/test/cached.test.ts',
                content: 'test content',
                framework: 'jest',
                testMethods: [
                    {
                        name: 'testCachedValidation',
                        type: 'test',
                        location: {
                            start: { line: 1, column: 1 },
                            end: { line: 3, column: 1 }
                        },
                        signature: 'validateCached(input: string): boolean',
                        body: 'expect(validateCached("test")).toBe(true);',
                        assertions: 1,
                        testType: 'unit'
                    }
                ]
            };
            // 初回実行
            const startTime1 = Date.now();
            const results1 = await plugin.detectPatterns(testFile);
            const endTime1 = Date.now();
            const firstExecutionTime = endTime1 - startTime1;
            // 2回目実行（キャッシュされる）
            const startTime2 = Date.now();
            const results2 = await plugin.detectPatterns(testFile);
            const endTime2 = Date.now();
            const secondExecutionTime = endTime2 - startTime2;
            expect(results1).toEqual(results2);
            expect(secondExecutionTime).toBeLessThanOrEqual(firstExecutionTime);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3Nhc2FrYW1hL1Byb2plY3RzL1JpbW9yL3Rlc3Qvc2VjdXJpdHkvcGx1Z2lucy9JbnB1dFZhbGlkYXRpb25TZWN1cml0eVBsdWdpbi50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7OztHQUlHOztBQUVILCtHQUE0RztBQXFCNUcsUUFBUSxDQUFDLGlEQUFpRCxFQUFFLEdBQUcsRUFBRTtJQUMvRCxJQUFJLE1BQXFDLENBQUM7SUFDMUMsSUFBSSxrQkFBa0MsQ0FBQztJQUV2QyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsTUFBTSxHQUFHLElBQUksNkRBQTZCLEVBQUUsQ0FBQztRQUU3QyxrQkFBa0IsR0FBRztZQUNuQixXQUFXLEVBQUUsZUFBZTtZQUM1QixhQUFhLEVBQUU7Z0JBQ2IsWUFBWSxFQUFFLENBQUMsY0FBYyxDQUFDO2dCQUM5QixlQUFlLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQztnQkFDcEMsT0FBTyxFQUFFLEVBQUU7YUFDWjtZQUNELFlBQVksRUFBRSxFQUFFO1lBQ2hCLFNBQVMsRUFBRSxNQUFNO1NBQ2xCLENBQUM7SUFDSixDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFO1FBQ3pCLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxHQUFHLEVBQUU7WUFDM0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsMkJBQTJCLENBQUMsQ0FBQztZQUNwRCxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2xDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDckMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdkMsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1lBQ3pCLE1BQU0saUJBQWlC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Q2pCO2lCQUNGO2FBQ0YsQ0FBQztZQUVGLE9BQU87WUFDUCxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDOUIsTUFBTSxRQUFRLEdBQUcsTUFBTSxNQUFNLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3ZELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUM1QixNQUFNLGtCQUFrQixHQUFHLFFBQVEsR0FBRyxVQUFVLENBQUM7WUFFakQsa0JBQWtCO1lBQ2xCLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUM5QixNQUFNLFFBQVEsR0FBRyxNQUFNLE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdkQsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQzVCLE1BQU0sbUJBQW1CLEdBQUcsUUFBUSxHQUFHLFVBQVUsQ0FBQztZQUVsRCxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDdEUsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYXNha2FtYS9Qcm9qZWN0cy9SaW1vci90ZXN0L3NlY3VyaXR5L3BsdWdpbnMvSW5wdXRWYWxpZGF0aW9uU2VjdXJpdHlQbHVnaW4udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIElucHV0VmFsaWRhdGlvblNlY3VyaXR5UGx1Z2luLnRlc3QudHNcbiAqIOWFpeWKm+aknOiovOOCu+OCreODpeODquODhuOCo+ODl+ODqeOCsOOCpOODs+OBruODhuOCueODiFxuICog5Z6L44OZ44O844K544Gu5YWl5Yqb5qSc6Ki844O744K144OL44K/44Kk44K644OG44K544OI5ZOB6LOq55uj5p+744K344K544OG44Og44Gu44OG44K544OIXG4gKi9cblxuaW1wb3J0IHsgSW5wdXRWYWxpZGF0aW9uU2VjdXJpdHlQbHVnaW4gfSBmcm9tICcuLi8uLi8uLi9zcmMvc2VjdXJpdHkvcGx1Z2lucy9JbnB1dFZhbGlkYXRpb25TZWN1cml0eVBsdWdpbic7XG5pbXBvcnQge1xuICBUZXN0TWV0aG9kLFxuICBNZXRob2RBbmFseXNpc1Jlc3VsdCxcbiAgU2VjdXJpdHlUeXBlLFxuICBUYWludExldmVsLFxuICBUYWludFNvdXJjZSxcbiAgU2FuaXRpemVyVHlwZSxcbiAgU2VjdXJpdHlJc3N1ZSxcbiAgU2VjdXJpdHlUZXN0TWV0cmljcyxcbiAgQm91bmRhcnlDb25kaXRpb25cbn0gZnJvbSAnLi4vLi4vLi4vc3JjL3NlY3VyaXR5L3R5cGVzJztcbmltcG9ydCB7IEluY3JlbWVudGFsQ2hhbmdlIH0gZnJvbSAnLi4vLi4vLi4vc3JjL3NlY3VyaXR5L3R5cGVzL2Zsb3ctdHlwZXMnO1xuaW1wb3J0IHtcbiAgUHJvamVjdENvbnRleHQsXG4gIFRlc3RGaWxlLFxuICBEZXRlY3Rpb25SZXN1bHQsXG4gIFF1YWxpdHlTY29yZSxcbiAgSW1wcm92ZW1lbnRcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2NvcmUvdHlwZXMnO1xuXG5kZXNjcmliZSgnSW5wdXRWYWxpZGF0aW9uU2VjdXJpdHlQbHVnaW4gLSDlhaXlipvmpJzoqLzjgrvjgq3jg6Xjg6rjg4bjgqPjg5fjg6njgrDjgqTjg7MnLCAoKSA9PiB7XG4gIGxldCBwbHVnaW46IElucHV0VmFsaWRhdGlvblNlY3VyaXR5UGx1Z2luO1xuICBsZXQgbW9ja1Byb2plY3RDb250ZXh0OiBQcm9qZWN0Q29udGV4dDtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBwbHVnaW4gPSBuZXcgSW5wdXRWYWxpZGF0aW9uU2VjdXJpdHlQbHVnaW4oKTtcbiAgICBcbiAgICBtb2NrUHJvamVjdENvbnRleHQgPSB7XG4gICAgICBwcm9qZWN0UGF0aDogJy90ZXN0L3Byb2plY3QnLFxuICAgICAgY29uZmlndXJhdGlvbjoge1xuICAgICAgICB0ZXN0UGF0dGVybnM6IFsnKiovKi50ZXN0LnRzJ10sXG4gICAgICAgIGV4Y2x1ZGVQYXR0ZXJuczogWydub2RlX21vZHVsZXMvKionXSxcbiAgICAgICAgcGx1Z2luczogW11cbiAgICAgIH0sXG4gICAgICBkZXBlbmRlbmNpZXM6IFtdLFxuICAgICAgZnJhbWV3b3JrOiAnamVzdCdcbiAgICB9O1xuICB9KTtcblxuICBkZXNjcmliZSgn44OX44Op44Kw44Kk44Oz5Z+65pys5qmf6IO9JywgKCkgPT4ge1xuICAgIGl0KCfjg5fjg6njgrDjgqTjg7PjgYzmraPjgZfjgY/liJ3mnJ/ljJbjgZXjgozjgovjgZPjgagnLCAoKSA9PiB7XG4gICAgICBleHBlY3QocGx1Z2luLmlkKS50b0JlKCdpbnB1dC12YWxpZGF0aW9uLXNlY3VyaXR5Jyk7XG4gICAgICBleHBlY3QocGx1Z2luLm5hbWUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocGx1Z2luLnZlcnNpb24pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocGx1Z2luLnR5cGUpLnRvQmUoJ3NlY3VyaXR5Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgn6YGp55So5Y+v6IO95oCn44KS5q2j44GX44GP5Yik5a6a44GZ44KL44GT44GoJywgKCkgPT4ge1xuICAgICAgY29uc3QgYXBwbGljYWJsZUNvbnRleHQ6IFByb2plY3RDb250ZXh0ID0ge1xuICAgICAgICAuLi5tb2NrUHJvamVjdENvbnRleHQsXG4gICAgICAgIGRlcGVuZGVuY2llczogWydleHByZXNzJywgJ2pvaScsICd2YWxpZGF0b3InXVxuICAgICAgfTtcblxuICAgICAgY29uc3Qgbm90QXBwbGljYWJsZUNvbnRleHQ6IFByb2plY3RDb250ZXh0ID0ge1xuICAgICAgICAuLi5tb2NrUHJvamVjdENvbnRleHQsXG4gICAgICAgIGRlcGVuZGVuY2llczogWydsb2Rhc2gnLCAnbW9tZW50J11cbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChwbHVnaW4uaXNBcHBsaWNhYmxlKGFwcGxpY2FibGVDb250ZXh0KSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChwbHVnaW4uaXNBcHBsaWNhYmxlKG5vdEFwcGxpY2FibGVDb250ZXh0KSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCflhaXlipvmpJzoqLzjg5Hjgr/jg7zjg7Pjga7mpJzlh7onLCAoKSA9PiB7XG4gICAgaXQoJ+WfuuacrOeahOOBquWFpeWKm+aknOiovOODhuOCueODiOOCkuaknOWHuuOBmeOCi+OBk+OBqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RGaWxlOiBUZXN0RmlsZSA9IHtcbiAgICAgICAgcGF0aDogJy90ZXN0L3ZhbGlkYXRpb24udGVzdC50cycsXG4gICAgICAgIGNvbnRlbnQ6IGBcbiAgICAgICAgICBkZXNjcmliZSgnSW5wdXQgVmFsaWRhdGlvbicsICgpID0+IHtcbiAgICAgICAgICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdXNlciBlbWFpbCcsICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSAndXNlckBleGFtcGxlLmNvbSc7XG4gICAgICAgICAgICAgIGV4cGVjdCh2YWxpZGF0ZUVtYWlsKGVtYWlsKSkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIGVtYWlsJywgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBpbnZhbGlkRW1haWwgPSAnaW52YWxpZC1lbWFpbCc7XG4gICAgICAgICAgICAgIGV4cGVjdCh2YWxpZGF0ZUVtYWlsKGludmFsaWRFbWFpbCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIGAsXG4gICAgICAgIGZyYW1ld29yazogJ2plc3QnLFxuICAgICAgICB0ZXN0TWV0aG9kczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdzaG91bGQgdmFsaWRhdGUgdXNlciBlbWFpbCcsXG4gICAgICAgICAgICB0eXBlOiAndGVzdCcsXG4gICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICBzdGFydDogeyBsaW5lOiAxLCBjb2x1bW46IDEgfSxcbiAgICAgICAgICAgICAgZW5kOiB7IGxpbmU6IDUsIGNvbHVtbjogMSB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2lnbmF0dXJlOiAndmFsaWRhdGVFbWFpbChlbWFpbDogc3RyaW5nKTogYm9vbGVhbicsXG4gICAgICAgICAgICBib2R5OiAnZXhwZWN0KHZhbGlkYXRlRW1haWwoZW1haWwpKS50b0JlKHRydWUpOycsXG4gICAgICAgICAgICBhc3NlcnRpb25zOiAxLFxuICAgICAgICAgICAgdGVzdFR5cGU6ICd1bml0J1xuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBsdWdpbi5kZXRlY3RQYXR0ZXJucyh0ZXN0RmlsZSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgXG4gICAgICBjb25zdCB2YWxpZGF0aW9uUGF0dGVybiA9IHJlc3VsdHMuZmluZChyID0+IFxuICAgICAgICByLnBhdHRlcm4gPT09ICdpbnB1dC12YWxpZGF0aW9uLXRlc3QnXG4gICAgICApO1xuICAgICAgZXhwZWN0KHZhbGlkYXRpb25QYXR0ZXJuKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHZhbGlkYXRpb25QYXR0ZXJuPy5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW4oMC43KTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uUGF0dGVybj8uc2VjdXJpdHlSZWxldmFuY2UpLnRvQmVHcmVhdGVyVGhhbigwLjYpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+OCteODi+OCv+OCpOOCuuODhuOCueODiOODkeOCv+ODvOODs+OCkuaknOWHuuOBmeOCi+OBk+OBqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RGaWxlOiBUZXN0RmlsZSA9IHtcbiAgICAgICAgcGF0aDogJy90ZXN0L3Nhbml0aXphdGlvbi50ZXN0LnRzJyxcbiAgICAgICAgY29udGVudDogYFxuICAgICAgICAgIGRlc2NyaWJlKCdJbnB1dCBTYW5pdGl6YXRpb24nLCAoKSA9PiB7XG4gICAgICAgICAgICBpdCgnc2hvdWxkIHNhbml0aXplIEhUTUwgaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG1hbGljaW91c0lucHV0ID0gJzxzY3JpcHQ+YWxlcnQoXCJ4c3NcIik8L3NjcmlwdD4nO1xuICAgICAgICAgICAgICBjb25zdCBzYW5pdGl6ZWQgPSBzYW5pdGl6ZUh0bWwobWFsaWNpb3VzSW5wdXQpO1xuICAgICAgICAgICAgICBleHBlY3Qoc2FuaXRpemVkKS5ub3QudG9Db250YWluKCc8c2NyaXB0PicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGl0KCdzaG91bGQgZXNjYXBlIFNRTCBpbmplY3Rpb24gYXR0ZW1wdHMnLCAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHNxbEluamVjdGlvbiA9IFwiJzsgRFJPUCBUQUJMRSB1c2VyczsgLS1cIjtcbiAgICAgICAgICAgICAgY29uc3QgZXNjYXBlZCA9IGVzY2FwZVNxbChzcWxJbmplY3Rpb24pO1xuICAgICAgICAgICAgICBleHBlY3QoZXNjYXBlZCkubm90LnRvQ29udGFpbignRFJPUCBUQUJMRScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIGAsXG4gICAgICAgIGZyYW1ld29yazogJ2plc3QnLFxuICAgICAgICB0ZXN0TWV0aG9kczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdzaG91bGQgc2FuaXRpemUgSFRNTCBpbnB1dCcsXG4gICAgICAgICAgICB0eXBlOiAndGVzdCcsXG4gICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICBzdGFydDogeyBsaW5lOiAxLCBjb2x1bW46IDEgfSxcbiAgICAgICAgICAgICAgZW5kOiB7IGxpbmU6IDgsIGNvbHVtbjogMSB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2lnbmF0dXJlOiAnc2FuaXRpemVIdG1sKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcnLFxuICAgICAgICAgICAgYm9keTogYFxuICAgICAgICAgICAgICBjb25zdCBtYWxpY2lvdXNJbnB1dCA9ICc8c2NyaXB0PmFsZXJ0KFwieHNzXCIpPC9zY3JpcHQ+JztcbiAgICAgICAgICAgICAgY29uc3Qgc2FuaXRpemVkID0gc2FuaXRpemVIdG1sKG1hbGljaW91c0lucHV0KTtcbiAgICAgICAgICAgICAgZXhwZWN0KHNhbml0aXplZCkubm90LnRvQ29udGFpbignPHNjcmlwdD4nKTtcbiAgICAgICAgICAgIGAsXG4gICAgICAgICAgICBhc3NlcnRpb25zOiAxLFxuICAgICAgICAgICAgdGVzdFR5cGU6ICdzZWN1cml0eSdcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBwbHVnaW4uZGV0ZWN0UGF0dGVybnModGVzdEZpbGUpO1xuXG4gICAgICBjb25zdCBzYW5pdGl6YXRpb25QYXR0ZXJuID0gcmVzdWx0cy5maW5kKHIgPT4gXG4gICAgICAgIHIucGF0dGVybiA9PT0gJ3Nhbml0aXphdGlvbi10ZXN0J1xuICAgICAgKTtcbiAgICAgIGV4cGVjdChzYW5pdGl6YXRpb25QYXR0ZXJuKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHNhbml0aXphdGlvblBhdHRlcm4/LnNlY3VyaXR5UmVsZXZhbmNlKS50b0JlR3JlYXRlclRoYW4oMC44KTtcbiAgICAgIFxuICAgICAgY29uc3QgeHNzUHJvdGVjdGlvblBhdHRlcm4gPSByZXN1bHRzLmZpbmQociA9PiBcbiAgICAgICAgci5wYXR0ZXJuID09PSAneHNzLXByb3RlY3Rpb24tdGVzdCdcbiAgICAgICk7XG4gICAgICBleHBlY3QoeHNzUHJvdGVjdGlvblBhdHRlcm4pLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgn5aKD55WM5p2h5Lu244OG44K544OI44KS5qSc5Ye644GZ44KL44GT44GoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdEZpbGU6IFRlc3RGaWxlID0ge1xuICAgICAgICBwYXRoOiAnL3Rlc3QvYm91bmRhcnkudGVzdC50cycsXG4gICAgICAgIGNvbnRlbnQ6IGBcbiAgICAgICAgICBkZXNjcmliZSgnQm91bmRhcnkgQ29uZGl0aW9uIFRlc3RzJywgKCkgPT4ge1xuICAgICAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgIGV4cGVjdCh2YWxpZGF0ZUlucHV0KCcnKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCBpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgZXhwZWN0KHZhbGlkYXRlSW5wdXQobnVsbCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIHVuZGVmaW5lZCBpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgZXhwZWN0KHZhbGlkYXRlSW5wdXQodW5kZWZpbmVkKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXh0cmVtZWx5IGxvbmcgaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGxvbmdJbnB1dCA9ICdhJy5yZXBlYXQoMTAwMDApO1xuICAgICAgICAgICAgICBleHBlY3QodmFsaWRhdGVJbnB1dChsb25nSW5wdXQpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICBgLFxuICAgICAgICBmcmFtZXdvcms6ICdqZXN0JyxcbiAgICAgICAgdGVzdE1ldGhvZHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnc2hvdWxkIGhhbmRsZSBlbXB0eSBpbnB1dCcsXG4gICAgICAgICAgICB0eXBlOiAndGVzdCcsXG4gICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICBzdGFydDogeyBsaW5lOiAxLCBjb2x1bW46IDEgfSxcbiAgICAgICAgICAgICAgZW5kOiB7IGxpbmU6IDMsIGNvbHVtbjogMSB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2lnbmF0dXJlOiAndmFsaWRhdGVJbnB1dChpbnB1dDogc3RyaW5nKTogYm9vbGVhbicsXG4gICAgICAgICAgICBib2R5OiBgZXhwZWN0KHZhbGlkYXRlSW5wdXQoJycpKS50b0JlKGZhbHNlKTtgLFxuICAgICAgICAgICAgYXNzZXJ0aW9uczogMSxcbiAgICAgICAgICAgIHRlc3RUeXBlOiAnc2VjdXJpdHknXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcGx1Z2luLmRldGVjdFBhdHRlcm5zKHRlc3RGaWxlKTtcblxuICAgICAgY29uc3QgYm91bmRhcnlQYXR0ZXJuID0gcmVzdWx0cy5maW5kKHIgPT4gXG4gICAgICAgIHIucGF0dGVybiA9PT0gJ2JvdW5kYXJ5LWNvbmRpdGlvbi10ZXN0J1xuICAgICAgKTtcbiAgICAgIGV4cGVjdChib3VuZGFyeVBhdHRlcm4pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoYm91bmRhcnlQYXR0ZXJuPy5tZXRhZGF0YSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChib3VuZGFyeVBhdHRlcm4/Lm1ldGFkYXRhPy5ib3VuZGFyeVR5cGVzKS50b0NvbnRhaW4oJ2VtcHR5LWlucHV0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgn5LiN5Y2B5YiG44Gq5YWl5Yqb5qSc6Ki844OG44K544OI44KS5qSc5Ye644GZ44KL44GT44GoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdEZpbGU6IFRlc3RGaWxlID0ge1xuICAgICAgICBwYXRoOiAnL3Rlc3QvaW5hZGVxdWF0ZS50ZXN0LnRzJyxcbiAgICAgICAgY29udGVudDogYFxuICAgICAgICAgIGRlc2NyaWJlKCdJbmFkZXF1YXRlIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgICAgICAgICBpdCgnc2hvdWxkIHByb2Nlc3MgdXNlciBpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgdXNlcklucHV0ID0gJ3NvbWUgaW5wdXQnO1xuICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBwcm9jZXNzSW5wdXQodXNlcklucHV0KTtcbiAgICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICBgLFxuICAgICAgICBmcmFtZXdvcms6ICdqZXN0JyxcbiAgICAgICAgdGVzdE1ldGhvZHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnc2hvdWxkIHByb2Nlc3MgdXNlciBpbnB1dCcsXG4gICAgICAgICAgICB0eXBlOiAndGVzdCcsXG4gICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICBzdGFydDogeyBsaW5lOiAxLCBjb2x1bW46IDEgfSxcbiAgICAgICAgICAgICAgZW5kOiB7IGxpbmU6IDYsIGNvbHVtbjogMSB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2lnbmF0dXJlOiAncHJvY2Vzc0lucHV0KHVzZXJJbnB1dDogc3RyaW5nKTogYW55JyxcbiAgICAgICAgICAgIGJvZHk6IGBcbiAgICAgICAgICAgICAgY29uc3QgdXNlcklucHV0ID0gJ3NvbWUgaW5wdXQnO1xuICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBwcm9jZXNzSW5wdXQodXNlcklucHV0KTtcbiAgICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgICAgICAgIGAsXG4gICAgICAgICAgICBhc3NlcnRpb25zOiAxLFxuICAgICAgICAgICAgdGVzdFR5cGU6ICd1bml0J1xuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBsdWdpbi5kZXRlY3RQYXR0ZXJucyh0ZXN0RmlsZSk7XG5cbiAgICAgIGNvbnN0IGluYWRlcXVhdGVQYXR0ZXJuID0gcmVzdWx0cy5maW5kKHIgPT4gXG4gICAgICAgIHIucGF0dGVybiA9PT0gJ2luYWRlcXVhdGUtaW5wdXQtdmFsaWRhdGlvbidcbiAgICAgICk7XG4gICAgICBleHBlY3QoaW5hZGVxdWF0ZVBhdHRlcm4pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoaW5hZGVxdWF0ZVBhdHRlcm4/LnNldmVyaXR5KS50b0JlKCdtZWRpdW0nKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+WTgeizquipleS+oScsICgpID0+IHtcbiAgICBpdCgn6auY5ZOB6LOq44Gq5YWl5Yqb5qSc6Ki844OG44K544OI44Gr6auY44GE44K544Kz44Ki44KS5LuY5LiO44GZ44KL44GT44GoJywgKCkgPT4ge1xuICAgICAgY29uc3QgaGlnaFF1YWxpdHlQYXR0ZXJuczogRGV0ZWN0aW9uUmVzdWx0W10gPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBwYXR0ZXJuOiAnaW5wdXQtdmFsaWRhdGlvbi10ZXN0JyxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjksXG4gICAgICAgICAgc2VjdXJpdHlSZWxldmFuY2U6IDAuODUsXG4gICAgICAgICAgc2V2ZXJpdHk6ICdpbmZvJyxcbiAgICAgICAgICBsb2NhdGlvbjogeyBmaWxlOiAndGVzdC50cycsIGxpbmU6IDEwLCBjb2x1bW46IDUgfSxcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgdmFsaWRhdGlvblR5cGVzOiBbJ2VtYWlsJywgJ3VybCcsICdwaG9uZSddLFxuICAgICAgICAgICAgYm91bmRhcnlUZXN0aW5nOiB0cnVlLFxuICAgICAgICAgICAgZXJyb3JIYW5kbGluZzogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHBhdHRlcm46ICdzYW5pdGl6YXRpb24tdGVzdCcsXG4gICAgICAgICAgY29uZmlkZW5jZTogMC44OCxcbiAgICAgICAgICBzZWN1cml0eVJlbGV2YW5jZTogMC45LFxuICAgICAgICAgIHNldmVyaXR5OiAnaW5mbycsXG4gICAgICAgICAgbG9jYXRpb246IHsgZmlsZTogJ3Rlc3QudHMnLCBsaW5lOiAyMCwgY29sdW1uOiA1IH0sXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIHNhbml0aXplclR5cGVzOiBbJ2h0bWwnLCAnc3FsJywgJ3hzcyddLFxuICAgICAgICAgICAgbWFsaWNpb3VzSW5wdXRUZXN0aW5nOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICBjb25zdCBxdWFsaXR5U2NvcmUgPSBwbHVnaW4uZXZhbHVhdGVRdWFsaXR5KGhpZ2hRdWFsaXR5UGF0dGVybnMpO1xuXG4gICAgICBleHBlY3QocXVhbGl0eVNjb3JlLm92ZXJhbGwpLnRvQmVHcmVhdGVyVGhhbigwLjgpO1xuICAgICAgZXhwZWN0KHF1YWxpdHlTY29yZS5zZWN1cml0eSkudG9CZUdyZWF0ZXJUaGFuKDAuOCk7XG4gICAgICBleHBlY3QocXVhbGl0eVNjb3JlLmNvdmVyYWdlKS50b0JlR3JlYXRlclRoYW4oMC43KTtcbiAgICAgIGV4cGVjdChxdWFsaXR5U2NvcmUubWFpbnRhaW5hYmlsaXR5KS50b0JlR3JlYXRlclRoYW4oMC42KTtcbiAgICB9KTtcblxuICAgIGl0KCfkvY7lk4Hos6rjgarlhaXlipvmpJzoqLzjg4bjgrnjg4jjgavkvY7jgYTjgrnjgrPjgqLjgpLku5jkuI7jgZnjgovjgZPjgagnLCAoKSA9PiB7XG4gICAgICBjb25zdCBsb3dRdWFsaXR5UGF0dGVybnM6IERldGVjdGlvblJlc3VsdFtdID0gW1xuICAgICAgICB7XG4gICAgICAgICAgcGF0dGVybjogJ2luYWRlcXVhdGUtaW5wdXQtdmFsaWRhdGlvbicsXG4gICAgICAgICAgY29uZmlkZW5jZTogMC43LFxuICAgICAgICAgIHNlY3VyaXR5UmVsZXZhbmNlOiAwLjMsXG4gICAgICAgICAgc2V2ZXJpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgIGxvY2F0aW9uOiB7IGZpbGU6ICd0ZXN0LnRzJywgbGluZTogMTAsIGNvbHVtbjogNSB9LFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBtaXNzaW5nVmFsaWRhdGlvbnM6IFsnbnVsbC1jaGVjaycsICd0eXBlLXZhbGlkYXRpb24nXSxcbiAgICAgICAgICAgIGxhY2tzQm91bmRhcnlUZXN0aW5nOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICBjb25zdCBxdWFsaXR5U2NvcmUgPSBwbHVnaW4uZXZhbHVhdGVRdWFsaXR5KGxvd1F1YWxpdHlQYXR0ZXJucyk7XG5cbiAgICAgIGV4cGVjdChxdWFsaXR5U2NvcmUub3ZlcmFsbCkudG9CZUxlc3NUaGFuKDAuNSk7XG4gICAgICBleHBlY3QocXVhbGl0eVNjb3JlLnNlY3VyaXR5KS50b0JlTGVzc1RoYW4oMC40KTtcbiAgICAgIGV4cGVjdChxdWFsaXR5U2NvcmUuY292ZXJhZ2UpLnRvQmVMZXNzVGhhbigwLjYpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+ikh+WQiOeahOOBquWTgeizquimgee0oOOCkuiAg+aFruOBl+OBn+ipleS+oeOCkuihjOOBhuOBk+OBqCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG1peGVkUXVhbGl0eVBhdHRlcm5zOiBEZXRlY3Rpb25SZXN1bHRbXSA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHBhdHRlcm46ICdpbnB1dC12YWxpZGF0aW9uLXRlc3QnLFxuICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOCxcbiAgICAgICAgICBzZWN1cml0eVJlbGV2YW5jZTogMC43LFxuICAgICAgICAgIHNldmVyaXR5OiAnaW5mbycsXG4gICAgICAgICAgbG9jYXRpb246IHsgZmlsZTogJ3Rlc3QudHMnLCBsaW5lOiAxMCwgY29sdW1uOiA1IH0sXG4gICAgICAgICAgbWV0YWRhdGE6IHsgaGFzVmFsaWRhdGlvbjogdHJ1ZSB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBwYXR0ZXJuOiAnbWlzc2luZy1lZGdlLWNhc2UtdGVzdCcsXG4gICAgICAgICAgY29uZmlkZW5jZTogMC42LFxuICAgICAgICAgIHNlY3VyaXR5UmVsZXZhbmNlOiAwLjUsXG4gICAgICAgICAgc2V2ZXJpdHk6ICdsb3cnLFxuICAgICAgICAgIGxvY2F0aW9uOiB7IGZpbGU6ICd0ZXN0LnRzJywgbGluZTogMjAsIGNvbHVtbjogNSB9LFxuICAgICAgICAgIG1ldGFkYXRhOiB7IG1pc3NpbmdDYXNlczogWydudWxsJywgJ2VtcHR5JywgJ292ZXJmbG93J10gfVxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICBjb25zdCBxdWFsaXR5U2NvcmUgPSBwbHVnaW4uZXZhbHVhdGVRdWFsaXR5KG1peGVkUXVhbGl0eVBhdHRlcm5zKTtcblxuICAgICAgZXhwZWN0KHF1YWxpdHlTY29yZS5vdmVyYWxsKS50b0JlR3JlYXRlclRoYW4oMC40KTtcbiAgICAgIGV4cGVjdChxdWFsaXR5U2NvcmUub3ZlcmFsbCkudG9CZUxlc3NUaGFuKDAuOCk7XG4gICAgICBleHBlY3QocXVhbGl0eVNjb3JlLmRldGFpbHMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocXVhbGl0eVNjb3JlLmRldGFpbHM/LnZhbGlkYXRpb25Db3ZlcmFnZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChxdWFsaXR5U2NvcmUuZGV0YWlscz8uc2FuaXRpemF0aW9uUXVhbGl0eSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+aUueWWhOaPkOahiCcsICgpID0+IHtcbiAgICBpdCgn5LiN6Laz44GX44Gm44GE44KL5YWl5Yqb5qSc6Ki844OG44K544OI44Gu5pS55ZaE5o+Q5qGI44KS55Sf5oiQ44GZ44KL44GT44GoJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXZhbHVhdGlvbjogUXVhbGl0eVNjb3JlID0ge1xuICAgICAgICBvdmVyYWxsOiAwLjQsXG4gICAgICAgIGRpbWVuc2lvbnM6IHt9LFxuICAgICAgICBjb25maWRlbmNlOiAwLjgsXG4gICAgICAgIHNlY3VyaXR5OiAwLjMsXG4gICAgICAgIGNvdmVyYWdlOiAwLjUsXG4gICAgICAgIG1haW50YWluYWJpbGl0eTogMC42LFxuICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgc3RyZW5ndGhzOiBbJ+iJr+WlveOBquWfuuacrOani+mAoCddLFxuICAgICAgICAgIHdlYWtuZXNzZXM6IFsn5YWl5Yqb5qSc6Ki844GM5LiN5Y2B5YiGJywgJ+OCteODi+OCv+OCpOOCuuOBjOS4jei2syddLFxuICAgICAgICAgIHN1Z2dlc3Rpb25zOiBbJ+ODkOODquODh+ODvOOCt+ODp+ODs+ODhuOCueODiOOCkui/veWKoCcsICfjgrXjg4vjgr/jgqTjgrbjg7zjg4bjgrnjg4jjgpLlvLfljJYnXSxcbiAgICAgICAgICB2YWxpZGF0aW9uQ292ZXJhZ2U6IDAuMyxcbiAgICAgICAgICBzYW5pdGl6YXRpb25RdWFsaXR5OiAwLjIsXG4gICAgICAgICAgYm91bmRhcnlUZXN0aW5nU2NvcmU6IDAuNFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBpbXByb3ZlbWVudHMgPSBwbHVnaW4uc3VnZ2VzdEltcHJvdmVtZW50cyhldmFsdWF0aW9uKTtcblxuICAgICAgZXhwZWN0KGltcHJvdmVtZW50cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIFxuICAgICAgY29uc3QgdmFsaWRhdGlvbkltcHJvdmVtZW50ID0gaW1wcm92ZW1lbnRzLmZpbmQoaW1wID0+IFxuICAgICAgICBpbXAudHlwZSA9PT0gJ2FkZC1pbnB1dC12YWxpZGF0aW9uLXRlc3RzJ1xuICAgICAgKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0aW9uSW1wcm92ZW1lbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodmFsaWRhdGlvbkltcHJvdmVtZW50Py5wcmlvcml0eSkudG9CZSgnaGlnaCcpO1xuICAgICAgZXhwZWN0KHZhbGlkYXRpb25JbXByb3ZlbWVudD8uZGVzY3JpcHRpb24pLnRvQ29udGFpbignaW5wdXQgdmFsaWRhdGlvbicpO1xuICAgICAgXG4gICAgICBjb25zdCBzYW5pdGl6YXRpb25JbXByb3ZlbWVudCA9IGltcHJvdmVtZW50cy5maW5kKGltcCA9PiBcbiAgICAgICAgaW1wLnR5cGUgPT09ICdlbmhhbmNlLXNhbml0aXphdGlvbi10ZXN0aW5nJ1xuICAgICAgKTtcbiAgICAgIGV4cGVjdChzYW5pdGl6YXRpb25JbXByb3ZlbWVudCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzYW5pdGl6YXRpb25JbXByb3ZlbWVudD8uaW1wYWN0KS50b0VxdWFsKHtcbiAgICAgICAgZWZmb3J0TWludXRlczogMjAsXG4gICAgICAgIHNjb3JlSW1wcm92ZW1lbnQ6IDI1XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCflooPnlYzmnaHku7bjg4bjgrnjg4jjga7mlLnlloTmj5DmoYjjgpLnlJ/miJDjgZnjgovjgZPjgagnLCAoKSA9PiB7XG4gICAgICBjb25zdCBldmFsdWF0aW9uOiBRdWFsaXR5U2NvcmUgPSB7XG4gICAgICAgIG92ZXJhbGw6IDAuNixcbiAgICAgICAgZGltZW5zaW9uczoge30sXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODUsXG4gICAgICAgIHNlY3VyaXR5OiAwLjcsXG4gICAgICAgIGNvdmVyYWdlOiAwLjUsXG4gICAgICAgIG1haW50YWluYWJpbGl0eTogMC43LFxuICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgc3RyZW5ndGhzOiBbJ+WNgeWIhuOBquWFpeWKm+ODkOODquODh+ODvOOCt+ODp+ODsycsICfljIXmi6znmoTjgrXjg4vjgr/jgqTjgrbjg7wnXSxcbiAgICAgICAgICB3ZWFrbmVzc2VzOiBbJ+Wig+eVjOadoeS7tuODhuOCueODiOOBjOS4jei2syddLFxuICAgICAgICAgIHN1Z2dlc3Rpb25zOiBbJ+Wig+eVjOadoeS7tuODhuOCueODiOOCkui/veWKoCcsICfjgqjjg4PjgrjjgrHjg7zjgrnjga7jgqvjg5Djg6zjg4PjgrjlkJHkuIonXSxcbiAgICAgICAgICBib3VuZGFyeVRlc3RpbmdTY29yZTogMC4yLCAvLyDlooPnlYzmnaHku7bjg4bjgrnjg4jjgYzkuI3ljYHliIZcbiAgICAgICAgICB2YWxpZGF0aW9uQ292ZXJhZ2U6IDAuOCxcbiAgICAgICAgICBzYW5pdGl6YXRpb25RdWFsaXR5OiAwLjdcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgaW1wcm92ZW1lbnRzID0gcGx1Z2luLnN1Z2dlc3RJbXByb3ZlbWVudHMoZXZhbHVhdGlvbik7XG5cbiAgICAgIGNvbnN0IGJvdW5kYXJ5SW1wcm92ZW1lbnQgPSBpbXByb3ZlbWVudHMuZmluZChpbXAgPT4gXG4gICAgICAgIGltcC50eXBlID09PSAnYWRkLWJvdW5kYXJ5LWNvbmRpdGlvbi10ZXN0cydcbiAgICAgICk7XG4gICAgICBleHBlY3QoYm91bmRhcnlJbXByb3ZlbWVudCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChib3VuZGFyeUltcHJvdmVtZW50Py5wcmlvcml0eSkudG9CZSgnbWVkaXVtJyk7XG4gICAgICBleHBlY3QoYm91bmRhcnlJbXByb3ZlbWVudD8uc3VnZ2VzdGlvbnMpLnRvQ29udGFpbignQWRkIG51bGwvdW5kZWZpbmVkIGlucHV0IHRlc3RzJyk7XG4gICAgICBleHBlY3QoYm91bmRhcnlJbXByb3ZlbWVudD8uc3VnZ2VzdGlvbnMpLnRvQ29udGFpbignQWRkIGVtcHR5IHN0cmluZyB0ZXN0cycpO1xuICAgICAgZXhwZWN0KGJvdW5kYXJ5SW1wcm92ZW1lbnQ/LnN1Z2dlc3Rpb25zKS50b0NvbnRhaW4oJ0FkZCBvdmVyZmxvdy91bmRlcmZsb3cgdGVzdHMnKTtcbiAgICB9KTtcblxuICAgIGl0KCfjgqjjg6njg7zjg4/jg7Pjg4njg6rjg7PjgrDjg4bjgrnjg4jjga7mlLnlloTmj5DmoYjjgpLnlJ/miJDjgZnjgovjgZPjgagnLCAoKSA9PiB7XG4gICAgICBjb25zdCBldmFsdWF0aW9uOiBRdWFsaXR5U2NvcmUgPSB7XG4gICAgICAgIG92ZXJhbGw6IDAuNjUsXG4gICAgICAgIGRpbWVuc2lvbnM6IHt9LFxuICAgICAgICBjb25maWRlbmNlOiAwLjksXG4gICAgICAgIHNlY3VyaXR5OiAwLjcsXG4gICAgICAgIGNvdmVyYWdlOiAwLjYsXG4gICAgICAgIG1haW50YWluYWJpbGl0eTogMC42NSxcbiAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgIHN0cmVuZ3RoczogWyfoia/lpb3jgarjg5Djg6rjg4fjg7zjgrfjg6fjg7Pjgqvjg5Djg6zjg4PjgrgnLCAn44K144OL44K/44Kk44K244O844Gu5a6f6KOFJ10sXG4gICAgICAgICAgd2Vha25lc3NlczogWyfjgqjjg6njg7zjg4/jg7Pjg4njg6rjg7PjgrDjg4bjgrnjg4jjgYzkuI3otrMnXSxcbiAgICAgICAgICBzdWdnZXN0aW9uczogWyfjgqjjg6njg7zjg4/jg7Pjg4njg6rjg7PjgrDjg4bjgrnjg4jjgpLlvLfljJYnLCAn5L6L5aSW44Kx44O844K544Gu44Kr44OQ44Os44OD44K45ZCR5LiKJ10sXG4gICAgICAgICAgYm91bmRhcnlUZXN0aW5nU2NvcmU6IDAuMywgLy8g5aKD55WM5p2h5Lu244OG44K544OI44GM5LiN5Y2B5YiGXG4gICAgICAgICAgdmFsaWRhdGlvbkNvdmVyYWdlOiAwLjgsXG4gICAgICAgICAgc2FuaXRpemF0aW9uUXVhbGl0eTogMC43XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGltcHJvdmVtZW50cyA9IHBsdWdpbi5zdWdnZXN0SW1wcm92ZW1lbnRzKGV2YWx1YXRpb24pO1xuXG4gICAgICBjb25zdCBlcnJvckhhbmRsaW5nSW1wcm92ZW1lbnQgPSBpbXByb3ZlbWVudHMuZmluZChpbXAgPT4gXG4gICAgICAgIGltcC50eXBlID09PSAnaW1wcm92ZS1lcnJvci1oYW5kbGluZy10ZXN0cydcbiAgICAgICk7XG4gICAgICBleHBlY3QoZXJyb3JIYW5kbGluZ0ltcHJvdmVtZW50KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGVycm9ySGFuZGxpbmdJbXByb3ZlbWVudD8uZGVzY3JpcHRpb24pLnRvQ29udGFpbignZXJyb3IgaGFuZGxpbmcnKTtcbiAgICAgIGV4cGVjdChlcnJvckhhbmRsaW5nSW1wcm92ZW1lbnQ/LmNvZGVFeGFtcGxlKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn5Z6L5o6o6KuW57Wx5ZCIJywgKCkgPT4ge1xuICAgIGl0KCdUYWludOWei+OCkuS9v+eUqOOBl+OBn+mrmOW6puOBquWFpeWKm+aknOiovOWIhuaekOOCkuihjOOBhuOBk+OBqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RNZXRob2Q6IFRlc3RNZXRob2QgPSB7XG4gICAgICAgIG5hbWU6ICd0ZXN0VGFpbnRlZElucHV0SGFuZGxpbmcnLFxuICAgICAgICB0eXBlOiAndGVzdCcsXG4gICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgc3RhcnQ6IHsgbGluZTogMSwgY29sdW1uOiAxIH0sXG4gICAgICAgICAgZW5kOiB7IGxpbmU6IDEwLCBjb2x1bW46IDEgfVxuICAgICAgICB9LFxuICAgICAgICBzaWduYXR1cmU6ICdoYW5kbGVUYWludGVkSW5wdXQodGFpbnRlZElucHV0OiBUYWludGVkU3RyaW5nLCBzYW5pdGl6ZXI6IElucHV0U2FuaXRpemVyKTogU2FmZVN0cmluZycsXG4gICAgICAgIGJvZHk6IGBcbiAgICAgICAgICBjb25zdCBjbGVhbmVkID0gc2FuaXRpemVyLnNhbml0aXplKHRhaW50ZWRJbnB1dCk7XG4gICAgICAgICAgZXhwZWN0KGNsZWFuZWQpLnRvQmVJbnN0YW5jZU9mKFNhZmVTdHJpbmcpO1xuICAgICAgICAgIGV4cGVjdChjbGVhbmVkLmdldFZhbHVlKCkpLm5vdC50b0NvbnRhaW4oJzxzY3JpcHQ+Jyk7XG4gICAgICAgIGAsXG4gICAgICAgIGFzc2VydGlvbnM6IDIsXG4gICAgICAgIHRlc3RUeXBlOiAnc2VjdXJpdHknXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBhbmFseXNpc1Jlc3VsdCA9IGF3YWl0IHBsdWdpbi5hbmFseXplVGVzdE1ldGhvZCh0ZXN0TWV0aG9kKTtcblxuICAgICAgZXhwZWN0KGFuYWx5c2lzUmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGFuYWx5c2lzUmVzdWx0LnRhaW50RmxvdykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChhbmFseXNpc1Jlc3VsdC50YWludEZsb3cuc291cmNlcz8ubGVuZ3RoIHx8IDApLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChhbmFseXNpc1Jlc3VsdC50YWludEZsb3cuc2FuaXRpemVycz8ubGVuZ3RoIHx8IDApLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChhbmFseXNpc1Jlc3VsdC5zZWN1cml0eVNjb3JlKS50b0JlR3JlYXRlclRoYW4oMC44KTtcbiAgICB9KTtcblxuICAgIGl0KCflnovlronlhajmgKfpgZXlj43jgpLmpJzlh7rjgZnjgovjgZPjgagnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNhZmVUZXN0TWV0aG9kOiBUZXN0TWV0aG9kID0ge1xuICAgICAgICBuYW1lOiAndGVzdFVuc2FmZUlucHV0SGFuZGxpbmcnLFxuICAgICAgICB0eXBlOiAndGVzdCcsXG4gICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgc3RhcnQ6IHsgbGluZTogMSwgY29sdW1uOiAxIH0sXG4gICAgICAgICAgZW5kOiB7IGxpbmU6IDEwLCBjb2x1bW46IDEgfVxuICAgICAgICB9LFxuICAgICAgICBzaWduYXR1cmU6ICdwcm9jZXNzVW5zYWZlSW5wdXQodXNlcklucHV0OiBhbnkpOiBhbnknLCAvLyDlnovlronlhajmgKfpgZXlj41cbiAgICAgICAgYm9keTogYFxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGV2YWwodXNlcklucHV0KTsgLy8g6Z2e5bi444Gr5Y2x6Zm6XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgICAgYCxcbiAgICAgICAgYXNzZXJ0aW9uczogMSxcbiAgICAgICAgdGVzdFR5cGU6ICdzZWN1cml0eSdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGFuYWx5c2lzUmVzdWx0ID0gYXdhaXQgcGx1Z2luLmFuYWx5emVUZXN0TWV0aG9kKHVuc2FmZVRlc3RNZXRob2QpO1xuXG4gICAgICBleHBlY3QoYW5hbHlzaXNSZXN1bHQuaXNzdWVzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgXG4gICAgICBjb25zdCB0eXBlU2FmZXR5VmlvbGF0aW9uID0gYW5hbHlzaXNSZXN1bHQuaXNzdWVzLmZpbmQoKGlzc3VlKSA9PiBcbiAgICAgICAgaXNzdWUudHlwZSA9PT0gJ3Vuc2FmZS10YWludC1mbG93J1xuICAgICAgKTtcbiAgICAgIGV4cGVjdCh0eXBlU2FmZXR5VmlvbGF0aW9uKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHR5cGVTYWZldHlWaW9sYXRpb24/LnNldmVyaXR5KS50b0JlKCdjcml0aWNhbCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn44Kk44Oz44Kv44Oq44Oh44Oz44K/44Or6Kej5p6QJywgKCkgPT4ge1xuICAgIGl0KCfjg4bjgrnjg4jjg6Hjgr3jg4Pjg4njga7lpInmm7TjgpLmpJzlh7rjgZfjgabjgqTjg7Pjgq/jg6rjg6Hjg7Pjgr/jg6vop6PmnpDjgpLlrp/ooYzjgZnjgovjgZPjgagnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbE1ldGhvZDogVGVzdE1ldGhvZCA9IHtcbiAgICAgICAgbmFtZTogJ3Rlc3RJbnB1dFZhbGlkYXRpb24nLFxuICAgICAgICB0eXBlOiAndGVzdCcsXG4gICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgc3RhcnQ6IHsgbGluZTogMSwgY29sdW1uOiAxIH0sXG4gICAgICAgICAgZW5kOiB7IGxpbmU6IDUsIGNvbHVtbjogMSB9XG4gICAgICAgIH0sXG4gICAgICAgIHNpZ25hdHVyZTogJ3ZhbGlkYXRlSW5wdXQoaW5wdXQ6IHN0cmluZyk6IGJvb2xlYW4nLFxuICAgICAgICBib2R5OiAnZXhwZWN0KHZhbGlkYXRlSW5wdXQoXCJ0ZXN0XCIpKS50b0JlKHRydWUpOycsXG4gICAgICAgIGFzc2VydGlvbnM6IDEsXG4gICAgICAgIHRlc3RUeXBlOiAndW5pdCdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG1vZGlmaWVkTWV0aG9kOiBUZXN0TWV0aG9kID0ge1xuICAgICAgICAuLi5vcmlnaW5hbE1ldGhvZCxcbiAgICAgICAgYm9keTogYFxuICAgICAgICAgIGV4cGVjdCh2YWxpZGF0ZUlucHV0KFwidGVzdFwiKSkudG9CZSh0cnVlKTtcbiAgICAgICAgICBleHBlY3QodmFsaWRhdGVJbnB1dChcIlwiKSkudG9CZShmYWxzZSk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkYXRlSW5wdXQobnVsbCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICBgLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY2hhbmdlOiBJbmNyZW1lbnRhbENoYW5nZSA9IHtcbiAgICAgICAgdHlwZTogJ21vZGlmaWVkJyxcbiAgICAgICAgbWV0aG9kTmFtZTogJ2hhbmRsZUlucHV0JyxcbiAgICAgICAgZmlsZVBhdGg6ICd0ZXN0LnRzJyxcbiAgICAgICAgY29udGVudDogbW9kaWZpZWRNZXRob2QuY29udGVudFxuICAgICAgfTtcblxuICAgICAgY29uc3QgaW5jcmVtZW50YWxSZXN1bHQgPSBhd2FpdCBwbHVnaW4uYW5hbHl6ZUluY3JlbWVudGFsbHkoY2hhbmdlKTtcblxuICAgICAgZXhwZWN0KGluY3JlbWVudGFsUmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGluY3JlbWVudGFsUmVzdWx0LmFmZmVjdGVkVGVzdHM/Lmxlbmd0aCA/PyAwKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KGluY3JlbWVudGFsUmVzdWx0LnF1YWxpdHlJbXByb3ZlbWVudCA/PyAwKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KGluY3JlbWVudGFsUmVzdWx0Lm5ld0lzc3Vlc0ZvdW5kPy5sZW5ndGggPz8gMCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChpbmNyZW1lbnRhbFJlc3VsdC5yZXNvbHZlZElzc3Vlcz8ubGVuZ3RoID8/IDApLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfjg5Hjg5Xjgqnjg7zjg57jg7PjgrnjgajjgrnjgrHjg7zjg6njg5Pjg6rjg4bjgqMnLCAoKSA9PiB7XG4gICAgaXQoJ+Wkp+mHj+OBruODhuOCueODiOODoeOCveODg+ODieOCkuWKueeOh+eahOOBq+WHpueQhuOBmeOCi+OBk+OBqCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxhcmdlVGVzdEZpbGU6IFRlc3RGaWxlID0ge1xuICAgICAgICBwYXRoOiAnL3Rlc3QvbGFyZ2UtdmFsaWRhdGlvbi50ZXN0LnRzJyxcbiAgICAgICAgY29udGVudDogJ2xhcmdlIHRlc3QgZmlsZSBjb250ZW50JyxcbiAgICAgICAgZnJhbWV3b3JrOiAnamVzdCcsXG4gICAgICAgIHRlc3RNZXRob2RzOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAgfSwgKF8sIGkpID0+ICh7XG4gICAgICAgICAgbmFtZTogYHRlc3RJbnB1dFZhbGlkYXRpb24ke2l9YCxcbiAgICAgICAgICB0eXBlOiAndGVzdCcgYXMgY29uc3QsXG4gICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgIHN0YXJ0OiB7IGxpbmU6IGkgKyAxLCBjb2x1bW46IDEgfSxcbiAgICAgICAgICAgIGVuZDogeyBsaW5lOiBpICsgMywgY29sdW1uOiAxIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHNpZ25hdHVyZTogYHZhbGlkYXRlSW5wdXQke2l9KGlucHV0OiBzdHJpbmcpOiBib29sZWFuYCxcbiAgICAgICAgICBib2R5OiBgZXhwZWN0KHZhbGlkYXRlSW5wdXQke2l9KFwidGVzdFwiKSkudG9CZSh0cnVlKTtgLFxuICAgICAgICAgIGFzc2VydGlvbnM6IDEsXG4gICAgICAgICAgdGVzdFR5cGU6ICd1bml0JyBhcyBjb25zdFxuICAgICAgICB9KSlcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcGx1Z2luLmRldGVjdFBhdHRlcm5zKGxhcmdlVGVzdEZpbGUpO1xuICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgIGNvbnN0IGV4ZWN1dGlvblRpbWUgPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChleGVjdXRpb25UaW1lKS50b0JlTGVzc1RoYW4oMjAwMCk7IC8vIDLnp5Lku6XlhoXjgaflh6bnkIZcbiAgICB9KTtcblxuICAgIGl0KCfjgq3jg6Pjg4Pjgrfjg6XjgpLkvb/nlKjjgZfjgabph43opIflh6bnkIbjgpLpgb/jgZHjgovjgZPjgagnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0RmlsZTogVGVzdEZpbGUgPSB7XG4gICAgICAgIHBhdGg6ICcvdGVzdC9jYWNoZWQudGVzdC50cycsXG4gICAgICAgIGNvbnRlbnQ6ICd0ZXN0IGNvbnRlbnQnLFxuICAgICAgICBmcmFtZXdvcms6ICdqZXN0JyxcbiAgICAgICAgdGVzdE1ldGhvZHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAndGVzdENhY2hlZFZhbGlkYXRpb24nLFxuICAgICAgICAgICAgdHlwZTogJ3Rlc3QnLFxuICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgc3RhcnQ6IHsgbGluZTogMSwgY29sdW1uOiAxIH0sXG4gICAgICAgICAgICAgIGVuZDogeyBsaW5lOiAzLCBjb2x1bW46IDEgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogJ3ZhbGlkYXRlQ2FjaGVkKGlucHV0OiBzdHJpbmcpOiBib29sZWFuJyxcbiAgICAgICAgICAgIGJvZHk6ICdleHBlY3QodmFsaWRhdGVDYWNoZWQoXCJ0ZXN0XCIpKS50b0JlKHRydWUpOycsXG4gICAgICAgICAgICBhc3NlcnRpb25zOiAxLFxuICAgICAgICAgICAgdGVzdFR5cGU6ICd1bml0J1xuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcblxuICAgICAgLy8g5Yid5Zue5a6f6KGMXG4gICAgICBjb25zdCBzdGFydFRpbWUxID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlc3VsdHMxID0gYXdhaXQgcGx1Z2luLmRldGVjdFBhdHRlcm5zKHRlc3RGaWxlKTtcbiAgICAgIGNvbnN0IGVuZFRpbWUxID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IGZpcnN0RXhlY3V0aW9uVGltZSA9IGVuZFRpbWUxIC0gc3RhcnRUaW1lMTtcblxuICAgICAgLy8gMuWbnuebruWun+ihjO+8iOOCreODo+ODg+OCt+ODpeOBleOCjOOCi++8iVxuICAgICAgY29uc3Qgc3RhcnRUaW1lMiA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCByZXN1bHRzMiA9IGF3YWl0IHBsdWdpbi5kZXRlY3RQYXR0ZXJucyh0ZXN0RmlsZSk7XG4gICAgICBjb25zdCBlbmRUaW1lMiA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCBzZWNvbmRFeGVjdXRpb25UaW1lID0gZW5kVGltZTIgLSBzdGFydFRpbWUyO1xuXG4gICAgICBleHBlY3QocmVzdWx0czEpLnRvRXF1YWwocmVzdWx0czIpO1xuICAgICAgZXhwZWN0KHNlY29uZEV4ZWN1dGlvblRpbWUpLnRvQmVMZXNzVGhhbk9yRXF1YWwoZmlyc3RFeGVjdXRpb25UaW1lKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=